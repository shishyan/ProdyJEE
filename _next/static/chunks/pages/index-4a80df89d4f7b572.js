(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{2936:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(6288)}])},6288:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>$});var s=a(7876),n=a(4232);a(9891);let i=[{id:"nature",name:"Forest Nature",url:"https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=1920&q=80",preview:"https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=400&q=80",category:"Nature"},{id:"green-forest",name:"Green Forest Path",url:"https://images.unsplash.com/photo-1542273917363-3b1817f69a2d?w=1920&q=80",preview:"https://images.unsplash.com/photo-1542273917363-3b1817f69a2d?w=400&q=80",category:"Nature"},{id:"misty-forest",name:"Misty Forest",url:"https://images.unsplash.com/photo-1511497584788-876760111969?w=1920&q=80",preview:"https://images.unsplash.com/photo-1511497584788-876760111969?w=400&q=80",category:"Nature"},{id:"bamboo",name:"Bamboo Garden",url:"https://images.unsplash.com/photo-1523712999610-f77fbcfc3843?w=1920&q=80",preview:"https://images.unsplash.com/photo-1523712999610-f77fbcfc3843?w=400&q=80",category:"Nature"},{id:"jungle",name:"Tropical Jungle",url:"https://images.unsplash.com/photo-1516026672322-bc52d61a55d5?w=1920&q=80",preview:"https://images.unsplash.com/photo-1516026672322-bc52d61a55d5?w=400&q=80",category:"Nature"},{id:"autumn",name:"Autumn Forest",url:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=1920&q=80",preview:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400&q=80",category:"Nature"},{id:"mountains",name:"Mountain Vista",url:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=1920&q=80",preview:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&q=80",category:"Mountains"},{id:"snow-mountains",name:"Snow Mountains",url:"https://images.unsplash.com/photo-1519904981063-b0cf448d479e?w=1920&q=80",preview:"https://images.unsplash.com/photo-1519904981063-b0cf448d479e?w=400&q=80",category:"Mountains"},{id:"alpine",name:"Alpine Meadow",url:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=1920&q=80",preview:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&q=80",category:"Mountains"},{id:"himalaya",name:"Himalayan Peak",url:"https://images.unsplash.com/photo-1545569341-9eb8b30979d9?w=1920&q=80",preview:"https://images.unsplash.com/photo-1545569341-9eb8b30979d9?w=400&q=80",category:"Mountains"},{id:"ocean",name:"Ocean Waves",url:"https://images.unsplash.com/photo-1505142468610-359e7d316be0?w=1920&q=80",preview:"https://images.unsplash.com/photo-1505142468610-359e7d316be0?w=400&q=80",category:"Water"},{id:"tropical",name:"Tropical Beach",url:"https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=1920&q=80",preview:"https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=400&q=80",category:"Water"},{id:"waterfall",name:"Waterfall Oasis",url:"https://images.unsplash.com/photo-1432405972618-c60b0225b8f9?w=1920&q=80",preview:"https://images.unsplash.com/photo-1432405972618-c60b0225b8f9?w=400&q=80",category:"Water"},{id:"lake",name:"Calm Lake",url:"https://images.unsplash.com/photo-1439066615861-d1af74d74000?w=1920&q=80",preview:"https://images.unsplash.com/photo-1439066615861-d1af74d74000?w=400&q=80",category:"Water"},{id:"river",name:"Mountain River",url:"https://images.unsplash.com/photo-1501594907352-04cda38ebc29?w=1920&q=80",preview:"https://images.unsplash.com/photo-1501594907352-04cda38ebc29?w=400&q=80",category:"Water"},{id:"flower",name:"Cherry Blossom",url:"https://images.unsplash.com/photo-1522383225653-ed111181a951?w=1920&q=80",preview:"https://images.unsplash.com/photo-1522383225653-ed111181a951?w=400&q=80",category:"Flowers"},{id:"sakura",name:"Japanese Sakura",url:"https://images.unsplash.com/photo-1490750967868-88aa4486c946?w=1920&q=80",preview:"https://images.unsplash.com/photo-1490750967868-88aa4486c946?w=400&q=80",category:"Flowers"},{id:"lavender",name:"Lavender Fields",url:"https://images.unsplash.com/photo-1499002238440-d264edd596ec?w=1920&q=80",preview:"https://images.unsplash.com/photo-1499002238440-d264edd596ec?w=400&q=80",category:"Flowers"},{id:"tulips",name:"Tulip Garden",url:"https://images.unsplash.com/photo-1490750967868-88aa4486c946?w=1920&q=80",preview:"https://images.unsplash.com/photo-1490750967868-88aa4486c946?w=400&q=80",category:"Flowers"},{id:"wildflowers",name:"Wild Flowers",url:"https://images.unsplash.com/photo-1464822759023-fed622ff2c3b?w=1920&q=80",preview:"https://images.unsplash.com/photo-1464822759023-fed622ff2c3b?w=400&q=80",category:"Flowers"},{id:"starry",name:"Starry Night Sky",url:"https://images.unsplash.com/photo-1419242902214-272b3f66ee7a?w=1920&q=80",preview:"https://images.unsplash.com/photo-1419242902214-272b3f66ee7a?w=400&q=80",category:"Sky"},{id:"sunset",name:"Golden Sunset",url:"https://images.unsplash.com/photo-1495616811223-4d98c6e9c869?w=1920&q=80",preview:"https://images.unsplash.com/photo-1495616811223-4d98c6e9c869?w=400&q=80",category:"Sky"},{id:"aurora",name:"Northern Lights",url:"https://images.unsplash.com/photo-1531366936337-7c912a4589a7?w=1920&q=80",preview:"https://images.unsplash.com/photo-1531366936337-7c912a4589a7?w=400&q=80",category:"Sky"},{id:"clouds",name:"Dreamy Clouds",url:"https://images.unsplash.com/photo-1513002749550-c59d786b8e6c?w=1920&q=80",preview:"https://images.unsplash.com/photo-1513002749550-c59d786b8e6c?w=400&q=80",category:"Sky"},{id:"gradient",name:"Pastel Gradient",url:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",preview:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",category:"Abstract",isGradient:!0},{id:"zen",name:"Zen Stones",url:"https://images.unsplash.com/photo-1506126613408-eca07ce68773?w=1920&q=80",preview:"https://images.unsplash.com/photo-1506126613408-eca07ce68773?w=400&q=80",category:"Abstract"},{id:"minimalist",name:"Minimal White",url:"linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)",preview:"linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)",category:"Abstract",isGradient:!0},{id:"abstract-waves",name:"Abstract Waves",url:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",preview:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",category:"Abstract",isGradient:!0},{id:"abstract-mesh",name:"Color Mesh",url:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",preview:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",category:"Abstract",isGradient:!0},{id:"abstract-aurora",name:"Aurora Gradient",url:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)",preview:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)",category:"Abstract",isGradient:!0},{id:"butterfly",name:"Butterfly Garden",url:"https://images.unsplash.com/photo-1526336024174-e58f5cdd8e13?w=1920&q=80",preview:"https://images.unsplash.com/photo-1526336024174-e58f5cdd8e13?w=400&q=80",category:"Animals"},{id:"birds",name:"Flying Birds",url:"https://images.unsplash.com/photo-1444464666168-49d633b86797?w=1920&q=80",preview:"https://images.unsplash.com/photo-1444464666168-49d633b86797?w=400&q=80",category:"Animals"},{id:"peacock",name:"Peacock Feathers",url:"https://images.unsplash.com/photo-1552728089-57bdde30beb3?w=1920&q=80",preview:"https://images.unsplash.com/photo-1552728089-57bdde30beb3?w=400&q=80",category:"Animals"},{id:"deer",name:"Forest Deer",url:"https://images.unsplash.com/photo-1474511320723-9a56873867b5?w=1920&q=80",preview:"https://images.unsplash.com/photo-1474511320723-9a56873867b5?w=400&q=80",category:"Animals"},{id:"koi",name:"Koi Fish Pond",url:"https://images.unsplash.com/photo-1520990413788-bd4f14852456?w=1920&q=80",preview:"https://images.unsplash.com/photo-1520990413788-bd4f14852456?w=400&q=80",category:"Animals"},{id:"custom",name:"✨ Upload Custom",url:"",preview:"",category:"Custom",isCustom:!0}];function r(e){let{show:t,onClose:a}=e,[r,l]=(0,n.useState)("nature"),[o,c]=(0,n.useState)(30),[d,p]=(0,n.useState)(100),[u,m]=(0,n.useState)("All"),[h,g]=(0,n.useState)("");(0,n.useEffect)(()=>{let e=localStorage.getItem("app-background");if(e){let t=JSON.parse(e);l(t.id||"nature"),c(t.transparency||30),p(t.contrast||100)}},[]);let x=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=i.find(t=>t.id===e);if(a){let s="custom"===e&&t?t:a.url;localStorage.setItem("app-background",JSON.stringify({id:e,url:s,transparency:o,contrast:d})),l(e),a.isGradient||s.startsWith("linear-gradient")?document.body.style.backgroundImage=s:document.body.style.backgroundImage="url(".concat(s,")"),document.body.style.backgroundSize="cover",document.body.style.backgroundPosition="center",document.body.style.backgroundAttachment="fixed",document.body.style.filter="contrast(".concat(d,"%)");let n=o/100;document.body.style.setProperty("--bg-overlay-opacity",n)}},b="All"===u?i:i.filter(e=>e.category===u);return t?(0,s.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.7)",backdropFilter:"blur(10px)",zIndex:1e4,display:"flex",alignItems:"center",justifyContent:"center",padding:"24px"},children:(0,s.jsxs)("div",{style:{background:"linear-gradient(145deg, #ffffff, #f0f0f0)",borderRadius:"24px",padding:"32px",maxWidth:"1200px",width:"100%",maxHeight:"90vh",overflow:"auto",boxShadow:"20px 20px 60px #d1d1d1, -20px -20px 60px #ffffff",border:"1px solid rgba(255, 255, 255, 0.5)"},children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[(0,s.jsx)("h2",{style:{fontSize:"28px",fontWeight:"700",color:"#1a1a1a",margin:0},children:"\uD83C\uDFA8 Background Settings"}),(0,s.jsx)("button",{onClick:a,style:{width:"40px",height:"40px",borderRadius:"50%",border:"none",background:"linear-gradient(145deg, #f0f0f0, #ffffff)",boxShadow:"5px 5px 10px #d1d1d1, -5px -5px 10px #ffffff",cursor:"pointer",fontSize:"20px",transition:"all 0.3s ease"},onMouseOver:e=>{e.target.style.boxShadow="inset 5px 5px 10px #d1d1d1, inset -5px -5px 10px #ffffff"},onMouseOut:e=>{e.target.style.boxShadow="5px 5px 10px #d1d1d1, -5px -5px 10px #ffffff"},children:"✕"})]}),(0,s.jsx)("div",{style:{display:"flex",gap:"12px",marginBottom:"24px",flexWrap:"wrap",padding:"12px",background:"linear-gradient(145deg, #f0f0f0, #ffffff)",borderRadius:"16px",boxShadow:"inset 4px 4px 8px #d1d1d1, inset -4px -4px 8px #ffffff"},children:["All","Nature","Mountains","Water","Flowers","Animals","Sky","Abstract","Custom"].map(e=>(0,s.jsx)("button",{onClick:()=>m(e),style:{padding:"10px 20px",borderRadius:"12px",border:"none",background:u===e?"linear-gradient(135deg, #667eea 0%, #764ba2 100%)":"linear-gradient(145deg, #ffffff, #f0f0f0)",color:u===e?"white":"#4a5568",fontWeight:"600",fontSize:"14px",cursor:"pointer",transition:"all 0.3s ease",boxShadow:u===e?"inset 4px 4px 8px rgba(0,0,0,0.2)":"4px 4px 8px #d1d1d1, -4px -4px 8px #ffffff"},onMouseOver:t=>{u!==e&&(t.target.style.boxShadow="inset 2px 2px 4px #d1d1d1, inset -2px -2px 4px #ffffff")},onMouseOut:t=>{u!==e&&(t.target.style.boxShadow="4px 4px 8px #d1d1d1, -4px -4px 8px #ffffff")},children:e},e))}),(0,s.jsx)("input",{id:"custom-bg-upload",type:"file",accept:"image/*",onChange:e=>{let t=e.target.files[0];if(t){let e=new FileReader;e.onload=e=>{let t=e.target.result;g(t),x("custom",t)},e.readAsDataURL(t)}},style:{display:"none"}}),"Custom"===u&&(0,s.jsxs)("div",{style:{marginBottom:"24px",padding:"24px",background:"linear-gradient(145deg, #ffffff, #f0f0f0)",borderRadius:"16px",boxShadow:"8px 8px 16px #d1d1d1, -8px -8px 16px #ffffff",border:"2px dashed #667eea"},children:[(0,s.jsx)("h3",{style:{fontSize:"18px",fontWeight:"600",color:"#1a1a1a",marginBottom:"16px"},children:"✨ Upload Your Custom Background"}),(0,s.jsx)("p",{style:{fontSize:"12px",color:"#718096",marginBottom:"8px"},children:'Click the "Upload Custom" card below to select an image'}),(0,s.jsx)("p",{style:{fontSize:"12px",color:"#718096"},children:"Supported formats: JPG, PNG, WEBP (Max 5MB recommended)"})]}),(0,s.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"24px",marginBottom:"32px"},children:b.map(e=>(0,s.jsxs)("div",{onClick:()=>e.isCustom?document.getElementById("custom-bg-upload").click():x(e.id),style:{borderRadius:"16px",overflow:"hidden",cursor:"pointer",transition:"all 0.3s ease",background:"linear-gradient(145deg, #ffffff, #f0f0f0)",boxShadow:r===e.id?"inset 8px 8px 16px #d1d1d1, inset -8px -8px 16px #ffffff":"8px 8px 16px #d1d1d1, -8px -8px 16px #ffffff",border:r===e.id?"3px solid #667eea":"1px solid rgba(0, 0, 0, 0.1)"},onMouseOver:t=>{r!==e.id&&(t.currentTarget.style.transform="translateY(-4px)",t.currentTarget.style.boxShadow="12px 12px 24px #d1d1d1, -12px -12px 24px #ffffff")},onMouseOut:t=>{r!==e.id&&(t.currentTarget.style.transform="translateY(0)",t.currentTarget.style.boxShadow="8px 8px 16px #d1d1d1, -8px -8px 16px #ffffff")},children:[e.isCustom?(0,s.jsxs)("div",{style:{height:"180px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",gap:"12px"},children:[(0,s.jsxs)("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2",children:[(0,s.jsx)("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),(0,s.jsx)("polyline",{points:"17 8 12 3 7 8"}),(0,s.jsx)("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),(0,s.jsx)("span",{style:{color:"white",fontSize:"14px",fontWeight:"600"},children:"Upload Image"})]}):(0,s.jsx)("div",{style:{height:"180px",background:e.isGradient?e.preview:"url(".concat(e.preview,")"),backgroundSize:"cover",backgroundPosition:"center"}}),(0,s.jsxs)("div",{style:{padding:"16px",textAlign:"center"},children:[(0,s.jsx)("div",{style:{fontWeight:"600",fontSize:"16px",color:"#1a1a1a"},children:e.name}),r===e.id&&(0,s.jsx)("div",{style:{marginTop:"8px",color:"#667eea",fontSize:"14px",fontWeight:"600"},children:"✓ Active"})]})]},e.id))}),(0,s.jsxs)("div",{style:{background:"linear-gradient(145deg, #f0f0f0, #ffffff)",borderRadius:"16px",padding:"24px",boxShadow:"inset 6px 6px 12px #d1d1d1, inset -6px -6px 12px #ffffff"},children:[(0,s.jsx)("h3",{style:{fontSize:"20px",fontWeight:"600",marginBottom:"20px",color:"#1a1a1a"},children:"Fine-tune Appearance"}),(0,s.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,s.jsxs)("label",{style:{display:"block",marginBottom:"12px",fontSize:"14px",fontWeight:"600",color:"#666"},children:["Background Transparency: ",o,"%"]}),(0,s.jsx)("input",{type:"range",min:"0",max:"80",value:o,onChange:e=>{let t=parseInt(e.target.value);c(t);let a=JSON.parse(localStorage.getItem("app-background")||"{}");a.transparency=t,localStorage.setItem("app-background",JSON.stringify(a)),document.body.style.setProperty("--bg-overlay-opacity",t/100)},style:{width:"100%",height:"8px",borderRadius:"4px",outline:"none",background:"linear-gradient(to right, rgba(0,0,0,0), rgba(0,0,0,0.8))"}}),(0,s.jsx)("p",{style:{fontSize:"12px",color:"#718096",marginTop:"8px"},children:"Higher transparency reduces distraction from background"})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{style:{display:"block",marginBottom:"12px",fontSize:"14px",fontWeight:"600",color:"#666"},children:["Image Contrast: ",d,"%"]}),(0,s.jsx)("input",{type:"range",min:"50",max:"150",value:d,onChange:e=>{let t=parseInt(e.target.value);p(t);let a=JSON.parse(localStorage.getItem("app-background")||"{}");a.contrast=t,localStorage.setItem("app-background",JSON.stringify(a)),document.body.style.filter="contrast(".concat(t,"%)")},style:{width:"100%",height:"8px",borderRadius:"4px",outline:"none",background:"linear-gradient(to right, #94a3b8, #1e293b)"}}),(0,s.jsx)("p",{style:{fontSize:"12px",color:"#718096",marginTop:"8px"},children:"Adjust image sharpness and color intensity"})]})]}),(0,s.jsx)("button",{onClick:()=>{let e=i.find(e=>e.id===r);if(e){let t="custom"===r&&h?h:e.url;localStorage.setItem("app-background",JSON.stringify({id:r,url:t,transparency:o,contrast:d})),e.isGradient||t.startsWith("linear-gradient")?document.body.style.backgroundImage=t:document.body.style.backgroundImage="url(".concat(t,")"),document.body.style.backgroundSize="cover",document.body.style.backgroundPosition="center",document.body.style.backgroundAttachment="fixed",document.body.style.filter="contrast(".concat(d,"%)");let a=o/100;document.body.style.setProperty("--bg-overlay-opacity",a),setTimeout(()=>window.location.reload(),300)}},style:{marginTop:"24px",width:"100%",padding:"16px",borderRadius:"12px",border:"none",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",fontSize:"16px",fontWeight:"600",cursor:"pointer",boxShadow:"0 8px 16px rgba(102, 126, 234, 0.4)",transition:"all 0.3s ease"},onMouseOver:e=>{e.target.style.transform="translateY(-2px)",e.target.style.boxShadow="0 12px 24px rgba(102, 126, 234, 0.5)"},onMouseOut:e=>{e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 8px 16px rgba(102, 126, 234, 0.4)"},children:"Apply & Reload"})]})}):null}function l(){let[e,t]=(0,n.useState)([]),[a,s]=(0,n.useState)(!1),[i,r]=(0,n.useState)(new Date),[l,o]=(0,n.useState)("daily"),[c,d]=(0,n.useState)(new Date),[p,u]=(0,n.useState)({title:"",type:"school",date:new Date().toISOString().split("T")[0],time:"09:00",endTime:"10:00",description:"",recurring:!1,recurringType:"none"}),m=[{title:"Morning Assembly",time:"08:00",endTime:"08:15",type:"school"},{title:"Period 1",time:"08:15",endTime:"09:00",type:"class"},{title:"Period 2",time:"09:00",endTime:"09:45",type:"class"},{title:"Short Break",time:"09:45",endTime:"10:00",type:"break"},{title:"Period 3",time:"10:00",endTime:"10:45",type:"class"},{title:"Period 4",time:"10:45",endTime:"11:30",type:"class"},{title:"Lunch Break",time:"11:30",endTime:"12:15",type:"break"},{title:"Period 5",time:"12:15",endTime:"13:00",type:"class"},{title:"Period 6",time:"13:00",endTime:"13:45",type:"class"},{title:"Period 7",time:"13:45",endTime:"14:30",type:"class"}],h=[{date:"2025-01-26",title:"Republic Day",type:"holiday"},{date:"2025-03-14",title:"Holi",type:"festival"},{date:"2025-04-06",title:"Ram Navami",type:"festival"},{date:"2025-04-18",title:"Good Friday",type:"holiday"},{date:"2025-04-30",title:"Eid ul-Fitr",type:"festival"},{date:"2025-08-15",title:"Independence Day",type:"holiday"},{date:"2025-08-27",title:"Janmashtami",type:"festival"},{date:"2025-09-27",title:"Ganesh Chaturthi",type:"festival"},{date:"2025-10-02",title:"Gandhi Jayanti",type:"holiday"},{date:"2025-10-22",title:"Dussehra",type:"festival"},{date:"2025-11-12",title:"Diwali",type:"festival"},{date:"2025-11-15",title:"Guru Nanak Jayanti",type:"festival"},{date:"2025-12-25",title:"Christmas",type:"holiday"}];(0,n.useEffect)(()=>{let e=localStorage.getItem("schedule-events");if(e)try{t(JSON.parse(e).map(e=>({...e,date:new Date(e.date)})))}catch(e){console.error("Failed to load",e)}},[]),(0,n.useEffect)(()=>{e.length>0&&localStorage.setItem("schedule-events",JSON.stringify(e))},[e]);let g=e=>0===e.getDay()||6===e.getDay(),x=t=>e.filter(e=>new Date(e.date).toDateString()===t.toDateString()).sort((e,t)=>(e.time||"00:00").localeCompare(t.time||"00:00")),b=e=>{if(!e)return"";let[t,a]=e.split(":"),s=parseInt(t);return(s%12||12)+":"+a+" "+(s>=12?"PM":"AM")},f=e=>({school:"bg-blue-500 text-white",class:"bg-blue-400 text-white",break:"bg-green-500 text-white",menstrual:"bg-pink-500 text-white",festival:"bg-purple-500 text-white",birthday:"bg-green-500 text-white",holiday:"bg-orange-500 text-white"})[e]||"bg-gray-500 text-white";return n.createElement("div",{className:"h-full p-6 bg-gradient-to-br from-blue-50 to-purple-50"},n.createElement("div",{className:"bg-pink-50 rounded-xl shadow mb-4 p-4"},n.createElement("div",{className:"flex justify-between items-center flex-wrap gap-4"},n.createElement("h1",{className:"text-3xl font-bold text-gray-900"},"Schedule Tracker"),n.createElement("div",{className:"flex gap-2 flex-wrap"},n.createElement("button",{onClick:()=>o("daily"),className:"px-4 py-2 rounded-lg font-medium "+("daily"===l?"bg-blue-500 text-white":"bg-gray-200")},"Daily"),n.createElement("button",{onClick:()=>o("monthly"),className:"px-4 py-2 rounded-lg font-medium "+("monthly"===l?"bg-blue-500 text-white":"bg-gray-200")},"Monthly"),n.createElement("button",{onClick:()=>{let e=[],a=new Date;for(let t=0;t<30;t++){let s=new Date(a);s.setDate(a.getDate()+t),0!==s.getDay()&&6!==s.getDay()&&m.forEach(a=>{let n=new Date(s),[i,r]=a.time.split(":");n.setHours(parseInt(i),parseInt(r),0,0),e.push({id:Date.now()+"-"+a.time+"-"+t,title:a.title,date:n,time:a.time,endTime:a.endTime,type:a.type,description:"Class schedule",isClassSchedule:!0})})}t(t=>[...t.filter(e=>!e.isClassSchedule),...e]),alert("Class timetable populated!")},className:"px-4 py-2 bg-purple-500 hover:bg-purple-600 text-white rounded-lg font-medium"},"Class Schedule"),n.createElement("button",{onClick:()=>{let e=h.map(e=>({id:"holiday-"+e.date,title:e.title,date:new Date(e.date+"T00:00:00"),time:"00:00",endTime:"23:59",type:e.type,description:"Public Holiday",isHoliday:!0,allDay:!0}));t(t=>[...t.filter(e=>!e.isHoliday),...e]),alert(e.length+" holidays added!")},className:"px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg font-medium"},"Holidays"),n.createElement("button",{onClick:()=>s(!0),className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg font-medium"},"Add Event")))),"daily"===l?(()=>{let e=x(i),a=(()=>{let e=[];for(let t=5;t<24;t++)e.push(t.toString().padStart(2,"0")+":00"),e.push(t.toString().padStart(2,"0")+":30");return e})(),s=g(i);return n.createElement("div",{className:"bg-pink-50 rounded-xl shadow p-6",style:{maxHeight:"70vh",overflow:"auto"}},n.createElement("div",{className:"flex justify-between items-center mb-4"},n.createElement("h2",{className:"text-2xl font-bold"},i.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"}),s&&n.createElement("span",{className:"ml-2 text-sm bg-orange-500 text-white px-2 py-1 rounded"},"WEEKEND")),n.createElement("div",{className:"flex gap-2"},n.createElement("button",{onClick:()=>{let e=new Date(i);e.setDate(e.getDate()-1),r(e)},className:"px-3 py-1 bg-gray-200 rounded hover:bg-gray-300"},"Prev"),n.createElement("button",{onClick:()=>r(new Date),className:"px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600"},"Today"),n.createElement("button",{onClick:()=>{let e=new Date(i);e.setDate(e.getDate()+1),r(e)},className:"px-3 py-1 bg-gray-200 rounded hover:bg-gray-300"},"Next"))),n.createElement("div",{className:"space-y-1"},n.createElement("div",{className:"flex items-center gap-4 p-2 bg-gray-100 rounded"},n.createElement("div",{className:"w-24 text-xs text-gray-500 font-mono"},"00:00-05:00"),n.createElement("div",{className:"flex-1 text-sm text-gray-400 italic"},"Night time (collapsed)")),a.map(a=>{let s=e.filter(e=>e.time===a);return n.createElement("div",{key:a,className:"flex items-start gap-4 p-2 hover:bg-gray-50 rounded border-l-2 border-gray-200"},n.createElement("div",{className:"w-24 text-sm font-mono text-gray-600"},b(a)),n.createElement("div",{className:"flex-1 min-h-[40px]"},s.length>0?n.createElement("div",{className:"space-y-2"},s.map(e=>n.createElement("div",{key:e.id,className:"p-3 rounded-lg "+f(e.type)+" flex justify-between items-start cursor-move hover:opacity-90",draggable:!0},n.createElement("div",{className:"flex-1"},n.createElement("div",{className:"font-bold"},e.title),n.createElement("div",{className:"text-xs opacity-90"},b(e.time)+" - "+b(e.endTime)),e.description&&n.createElement("div",{className:"text-xs mt-1 opacity-80"},e.description)),!e.isClassSchedule&&!e.isHoliday&&n.createElement("button",{onClick:()=>{let a;return a=e.id,t(e=>e.filter(e=>e.id!==a))},className:"text-white hover:opacity-70 text-xl ml-2"},"\xd7")))):n.createElement("div",{className:"text-gray-300 text-sm"},"No events")))})))})():(()=>{let e=c.getFullYear(),t=c.getMonth(),a=new Date(e,t,1),s=new Date(e,t+1,0),i=[];for(let e=0;e<a.getDay();e++)i.push(null);for(let a=1;a<=s.getDate();a++)i.push(new Date(e,t,a));return n.createElement("div",{className:"bg-pink-50 rounded-xl shadow p-6"},n.createElement("div",{className:"flex justify-between items-center mb-4"},n.createElement("h2",{className:"text-2xl font-bold"},c.toLocaleDateString("en-US",{month:"long",year:"numeric"})),n.createElement("div",{className:"flex gap-2"},n.createElement("button",{onClick:()=>{let e=new Date(c);e.setMonth(e.getMonth()-1),d(e)},className:"px-3 py-1 bg-gray-200 rounded"},"Prev"),n.createElement("button",{onClick:()=>d(new Date),className:"px-3 py-1 bg-blue-500 text-white rounded"},"Today"),n.createElement("button",{onClick:()=>{let e=new Date(c);e.setMonth(e.getMonth()+1),d(e)},className:"px-3 py-1 bg-gray-200 rounded"},"Next"))),n.createElement("div",{className:"grid grid-cols-7 gap-2"},["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(e=>n.createElement("div",{key:e,className:"text-center font-bold text-gray-600 py-2"},e)),i.map((e,t)=>{if(!e)return n.createElement("div",{key:"empty-"+t,className:"min-h-24 bg-gray-50 rounded"});let a=x(e),s=e.toDateString()===new Date().toDateString(),i=g(e);return n.createElement("div",{key:e.toISOString(),onClick:()=>{r(e),o("daily")},className:"min-h-24 p-2 border rounded cursor-pointer hover:bg-blue-50 "+(s?"border-blue-500 border-2":"")+" "+(i?"bg-orange-50":"bg-pink-50")},n.createElement("div",{className:"text-sm font-bold mb-1 "+(s?"text-blue-600":i?"text-orange-600":"text-gray-700")},e.getDate()),n.createElement("div",{className:"space-y-1"},a.slice(0,2).map(e=>n.createElement("div",{key:e.id,className:"text-xs px-1 py-0.5 rounded truncate "+f(e.type)},e.title)),a.length>2&&n.createElement("div",{className:"text-xs text-gray-500"},"+"+(a.length-2)+" more")))})))})(),a&&n.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},n.createElement("div",{className:"bg-pink-50 rounded-xl p-6 w-full max-w-md"},n.createElement("h2",{className:"text-2xl font-bold mb-4"},"Add Event"),n.createElement("div",{className:"space-y-3"},n.createElement("input",{type:"text",placeholder:"Event Title",value:p.title,onChange:e=>u({...p,title:e.target.value}),className:"w-full px-3 py-2 border rounded"}),n.createElement("select",{value:p.type,onChange:e=>u({...p,type:e.target.value}),className:"w-full px-3 py-2 border rounded"},n.createElement("option",{value:"school"},"School"),n.createElement("option",{value:"menstrual"},"Menstrual Period"),n.createElement("option",{value:"festival"},"Festival"),n.createElement("option",{value:"birthday"},"Birthday"),n.createElement("option",{value:"holiday"},"Holiday")),n.createElement("input",{type:"date",value:p.date,onChange:e=>u({...p,date:e.target.value}),className:"w-full px-3 py-2 border rounded"}),n.createElement("div",{className:"grid grid-cols-2 gap-2"},n.createElement("input",{type:"time",value:p.time,onChange:e=>u({...p,time:e.target.value}),className:"w-full px-3 py-2 border rounded"}),n.createElement("input",{type:"time",value:p.endTime,onChange:e=>u({...p,endTime:e.target.value}),className:"w-full px-3 py-2 border rounded"})),n.createElement("textarea",{placeholder:"Description",value:p.description,onChange:e=>u({...p,description:e.target.value}),className:"w-full px-3 py-2 border rounded",rows:"3"})),n.createElement("div",{className:"flex gap-2 mt-4"},n.createElement("button",{onClick:()=>{if(!p.title.trim())return;let e=new Date(p.date+"T"+p.time);t(t=>[...t,{id:Date.now(),...p,date:e}]),u({title:"",type:"school",date:new Date().toISOString().split("T")[0],time:"09:00",endTime:"10:00",description:"",recurring:!1,recurringType:"none"}),s(!1)},className:"flex-1 px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg font-medium"},"Add Event"),n.createElement("button",{onClick:()=>s(!1),className:"flex-1 px-4 py-2 bg-gray-300 hover:bg-gray-400 rounded-lg font-medium"},"Cancel")))))}var o=a(8847),c=a.n(o),d=a(4664),p=a(4287),u=a(3727),m=a(6856);a(863);let h=c()(()=>a.e(141).then(a.bind(a,3141)),{loadableGenerated:{webpack:()=>[3141]},ssr:!1}),g=()=>(0,s.jsx)("svg",{className:"nav-icon w-4 h-4 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),x=()=>(0,s.jsx)("svg",{className:"nav-icon w-4 h-4 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),b=()=>(0,s.jsx)("svg",{className:"nav-icon w-4 h-4 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),f=()=>(0,s.jsx)("svg",{className:"nav-icon w-4 h-4 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})}),j=()=>(0,s.jsx)("svg",{className:"nav-icon w-4 h-4 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"})}),v=()=>(0,s.jsx)("svg",{className:"sidebar-icon-svg",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),y=()=>(0,s.jsx)("svg",{className:"sidebar-icon-svg",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),N=()=>(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),w=()=>(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),k=()=>(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),S=()=>(0,s.jsx)("svg",{className:"sidebar-icon-svg",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),C=()=>(0,s.jsx)("svg",{className:"sidebar-icon-svg",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),_=()=>(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 8h10M7 16h10M6 12h.01M18 12h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"})}),D=e=>{let t=(0,s.jsx)("svg",{className:"proficiency-star",fill:"currentColor",viewBox:"0 0 20 20",width:"16",height:"16",children:(0,s.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})});switch(e){case"Novice":default:return(0,s.jsx)("div",{className:"proficiency-icons",children:t});case"Competent":return(0,s.jsxs)("div",{className:"proficiency-icons",children:[t,t,t]});case"Expert":return(0,s.jsxs)("div",{className:"proficiency-icons",children:[t,t,t,t]});case"Master":return(0,s.jsxs)("div",{className:"proficiency-icons",children:[t,t,t,t,t]})}},T=()=>(0,s.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),P=()=>(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),E=()=>(0,s.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 10a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4z"})]}),M=()=>(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),L=()=>(0,s.jsx)("svg",{className:"sidebar-icon-svg",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),I=()=>(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})}),q=()=>(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),z=()=>(0,s.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),W=()=>(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})}),B=()=>(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),A=()=>(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 5a1 1 0 011-1h4a1 1 0 011 1v7a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM14 5a1 1 0 011-1h4a1 1 0 011 1v7a1 1 0 01-1 1h-4a1 1 0 01-1-1V5zM4 16a1 1 0 011-1h4a1 1 0 011 1v3a1 1 0 01-1 1H5a1 1 0 01-1-1v-3zM14 16a1 1 0 011-1h4a1 1 0 011 1v3a1 1 0 01-1 1h-4a1 1 0 01-1-1v-3z"})}),R=()=>(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})}),F=()=>(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 19l-7-7 7-7m8 14l-7-7 7-7"})}),O=()=>(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 5l7 7-7 7M5 5l7 7-7 7"})}),H=()=>(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}),J=()=>(0,s.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),V=()=>(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}),G=()=>(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3v7c0 1.1.9 2 2 2h2m0-9v9m0-9h6v4M17 3v18m0-18h.01M17 21h.01"})}),K=e=>{let t={};return e.forEach(e=>{let a="".concat(e.chapter_id,"-").concat(e.chapter_name);t[a]||(t[a]={chapter_id:e.chapter_id,chapter_name:e.chapter_name,subject:e.subject,curriculum:e.curriculum,grade:e.grade,studyPlans:[],aggregatedStatus:"In Queue",aggregatedStage:"Initiated",aggregatedProficiency:0,totalTopics:0,completedTopics:0,inProgressTopics:0,averageProgress:0}),t[a].studyPlans.push(e),t[a].totalTopics++}),Object.values(t).forEach(e=>{let t=e.studyPlans,a={Done:t.filter(e=>"Done"===e.learning_status).length,"In Progress":t.filter(e=>"In Progress"===e.learning_status).length,"To Do":t.filter(e=>"To Do"===e.learning_status).length,"In Queue":t.filter(e=>"In Queue"===e.learning_status).length};e.completedTopics=a.Done,e.inProgressTopics=a["In Progress"],e.averageProgress=Math.round(t.reduce((e,t)=>e+(t.progress_percentage||0),0)/t.length),a["In Progress"]>0?e.aggregatedStatus="In Progress":a["To Do"]>0?e.aggregatedStatus="To Do":a.Done===e.totalTopics?e.aggregatedStatus="Done":e.aggregatedStatus="In Queue";let s=["Initiated","Skimmed","Grasped","Practiced","Revised","Mastered"],n="Initiated";t.forEach(e=>{e.learning_stage&&s.indexOf(e.learning_stage)>s.indexOf(n)&&(n=e.learning_stage)}),e.aggregatedStage=n;let i={Novice:25,Competent:50,Expert:75,Master:100};e.aggregatedProficiency=Math.round(t.reduce((e,t)=>e+(i[t.learning_proficiency]||0),0)/t.length)}),Object.values(t)};function U(e){let{chapter:t,bucketColor:a,onEdit:i,onUpdateProgress:r,getStatusColor:l,getProficiencyColor:o,isSelected:c,onToggleSelect:d,overId:m}=e,{attributes:h,listeners:g,setNodeRef:x,transform:b,transition:f,isDragging:j}=(0,p.gl)({id:"chapter-".concat(t.chapter_id)}),v=m==="chapter-".concat(t.chapter_id),[y,N]=(0,n.useState)(null),w=(()=>{if(!t.studyPlans||0===t.studyPlans.length)return"Novice";let e={Master:4,Expert:3,Competent:2,Novice:1},a=t.studyPlans.reduce((t,a)=>Math.max(t,e[a.learning_proficiency]||1),1),s=Object.entries(e).find(e=>{let[t,s]=e;return s===a});return s?s[0]:"Novice"})(),k={transform:u.Ks.Transform.toString(b),transition:f||"transform 200ms cubic-bezier(0.25, 1, 0.66, 1)",opacity:j?.4:1},S=Math.round(t.completedTopics/t.totalTopics*100),C=t.studyPlans.map(e=>e.target_date).filter(e=>e).map(e=>new Date(e)).sort((e,t)=>e-t),_=C.length>0?C[0]:null,T=_?Math.ceil((_-new Date)/864e5):null;return(0,s.jsxs)("div",{ref:x,style:{...k,border:c?"2px solid #8b5cf6":void 0,backgroundColor:c?"rgba(139, 92, 246, 0.1)":"transparent",boxShadow:c?"inset 0 2px 4px rgba(0, 0, 0, 0.1), 0 4px 8px rgba(139, 92, 246, 0.3)":"inset 0 2px 4px rgba(0, 0, 0, 0.1), 0 4px 8px rgba(0, 0, 0, 0.1)",cursor:j?"grabbing":"grab"},className:"chapter-card ".concat(j?"dragging":""," ").concat(v?"drop-indicator":""),"data-status":t.aggregatedStatus,onPointerDown:e=>{N({x:e.clientX,y:e.clientY})},onClick:e=>{if(console.log("\uD83D\uDDB1️ handleClick triggered on card:",t.chapter_name),y){let a=Math.abs(e.clientX-y.x),s=Math.abs(e.clientY-y.y);console.log("\uD83D\uDCCF Movement delta: X=".concat(a,"px, Y=").concat(s,"px, isDragging=").concat(j)),a<5&&s<5&&!j?(console.log("✅ Click detected (not drag), calling onEdit"),i(t,e)):console.log("❌ Movement too large, treating as drag"),N(null)}else console.log("✅ Direct click (no drag tracking), calling onEdit"),i(t,e)},...h,...g,children:[(0,s.jsxs)("div",{className:"chapter-meta-top",style:{pointerEvents:"none"},children:[(0,s.jsx)("span",{className:"meta-subject",children:t.subject}),(0,s.jsx)("span",{className:"meta-curriculum",style:{backgroundColor:"JEE"===t.curriculum?"rgba(239, 68, 68, 0.15)":"rgba(59, 130, 246, 0.15)",color:"JEE"===t.curriculum?"#dc2626":"#2563eb",padding:"2px 8px",borderRadius:"6px",fontSize:"10px",fontWeight:"600",border:"1px solid ".concat("JEE"===t.curriculum?"rgba(239, 68, 68, 0.3)":"rgba(59, 130, 246, 0.3)")},children:t.curriculum})]}),(0,s.jsx)("div",{className:"chapter-header",style:{background:"In Queue"===t.aggregatedStatus?"#f3f4f6":"linear-gradient(135deg, ".concat(l(t.aggregatedStatus),"20, ").concat(l(t.aggregatedStatus),"60)"),pointerEvents:"none"},children:(0,s.jsx)("div",{className:"chapter-info",children:(0,s.jsx)("h4",{className:"chapter-title",onClick:e=>{e.stopPropagation()},children:t.chapter_name})})}),(0,s.jsxs)("div",{className:"chapter-meta-bottom",style:{pointerEvents:"none"},children:[(0,s.jsx)("span",{className:"meta-id",children:t.chapter_id}),(0,s.jsx)("span",{className:"detail-label",children:"Stage:"}),(0,s.jsx)("span",{className:"status-badge",style:{color:"#8b5cf6",fontSize:"11px"},children:t.aggregatedStage})]}),(0,s.jsxs)("div",{className:"chapter-content",style:{pointerEvents:"none"},children:[(0,s.jsx)("div",{className:"chapter-details-grid ".concat("In Queue"===t.aggregatedStatus?"backlog-grid":""),children:"In Queue"===t.aggregatedStatus?(0,s.jsx)(s.Fragment,{children:_&&(0,s.jsx)("div",{className:"detail-row",children:(0,s.jsx)("span",{className:"target-date-display ".concat(null!==T&&T<0?"overdue":null!==T&&T<=7?"urgent":""),children:null!==T?T<0?"⏰ ".concat(Math.abs(T)," days overdue"):"\uD83D\uDCC5 ".concat(T," days left"):"\uD83D\uDCC5 ".concat(new Date(_).toLocaleDateString())})})}):(0,s.jsx)(s.Fragment,{})}),"In Queue"!==t.aggregatedStatus&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"chapter-stats-grid",children:[(0,s.jsxs)("div",{className:"stat-item",children:[(0,s.jsx)("span",{className:"stat-label",children:"Topics:"}),(0,s.jsx)("span",{className:"stat-value",children:t.totalTopics})]}),(0,s.jsxs)("div",{className:"stat-item",children:[(0,s.jsx)("span",{className:"stat-label",children:"Completed:"}),(0,s.jsx)("span",{className:"stat-value",children:t.completedTopics})]})]}),(0,s.jsxs)("div",{className:"chapter-footer-row",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"12px",paddingTop:"8px",borderTop:"1px solid rgba(0, 0, 0, 0.08)"},children:[(0,s.jsxs)("span",{className:"progress-percentage",style:{fontSize:"14px",fontWeight:"600",color:100===S?"#10b981":S>0?"#f59e0b":"#6b7280"},children:[S,"%"]}),(0,s.jsx)("div",{style:{display:"flex",gap:"4px",alignItems:"center"},children:D(w)})]})]}),_&&"In Queue"!==t.aggregatedStatus&&(0,s.jsx)("div",{className:"chapter-target-date",children:(0,s.jsx)("span",{className:"target-date-display ".concat(null!==T&&T<0?"overdue":null!==T&&T<=7?"urgent":""),children:null!==T?T<0?"⏰ ".concat(Math.abs(T)," days overdue"):"\uD83D\uDCC5 ".concat(T," days left"):"\uD83D\uDCC5 ".concat(new Date(_).toLocaleDateString())})})]})]})}function Q(e){let{bucket:t,chapters:a,onEditChapter:i,onUpdateProgress:r,onUpdateChapterStatus:l,getStatusColor:o,getProficiencyColor:c,selectedChapters:u,onToggleChapterSelect:m,overId:h}=e,{setNodeRef:g,isOver:x}=(0,d.zM)({id:t.id}),[b,f]=(0,n.useState)(!1),j=a.filter(e=>(e.aggregatedStatus||"In Queue")===t.status),v=async e=>{e.preventDefault(),f(!1);let a=e.dataTransfer.getData("chapterId");a&&l&&await l(a,t.status)};return(0,s.jsxs)("div",{ref:g,onDragOver:e=>{e.preventDefault(),e.dataTransfer.dropEffect="move",f(!0)},onDragLeave:e=>{e.preventDefault(),f(!1)},onDrop:v,className:"bucket rounded-lg p-4 min-h-[500px] flex flex-col ".concat(x||b?"ring-2 ring-blue-500":""," ").concat((e=>{switch(e){case"Done":return"bucket-done";case"In Progress":return"bucket-in-progress";case"To Do":return"bucket-todo";case"In Queue":return"bucket-backlog";default:return""}})(t.status)),style:{background:"none"},children:[(0,s.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,s.jsxs)("h3",{className:"text-lg font-semibold",style:{color:o(t.status)},children:[t.name," (",j.length,")"]})}),(0,s.jsx)("div",{className:"flex-1 overflow-y-auto",style:{background:"none"},children:(0,s.jsx)(p.gB,{items:j.map(e=>"chapter-".concat(e.chapter_id)),strategy:p._G,children:(0,s.jsxs)("div",{className:"space-y-3",style:{background:"none"},children:[j.map(e=>(0,s.jsx)(U,{chapter:e,bucketColor:o(t.status),onEdit:i,onUpdateProgress:r,getStatusColor:o,getProficiencyColor:c,isSelected:u.has(e.chapter_id),onToggleSelect:m,overId:h},"chapter-".concat(e.chapter_id))),0===j.length&&(0,s.jsxs)("div",{className:"flex items-center justify-center h-32 text-gray-500 text-sm border-2 border-dashed border-gray-300 rounded-lg",children:["No chapters in ",t.name.toLowerCase()]})]})})})]})}function Y(e){let{subject:t,onUpdate:a,getStatusColor:i,getProficiencyColor:r}=e,[l,o]=(0,n.useState)([]),[c,d]=(0,n.useState)(null),[p,u]=(0,n.useState)(""),[m,h]=(0,n.useState)(!0),g=[{key:"actions",label:"Actions",width:"120px",type:"actions",readonly:!0},{key:"unique_id",label:"Unique ID",width:"140px",type:"text",readonly:!0},{key:"curriculum",label:"Curriculum",width:"100px",type:"text"},{key:"grade",label:"Grade",width:"70px",type:"number"},{key:"subject",label:"Subject",width:"100px",type:"text"},{key:"chapter_id",label:"Chapter ID",width:"100px",type:"text"},{key:"chapter_name",label:"Chapter Name",width:"180px",type:"text"},{key:"topic_id",label:"Topic ID",width:"100px",type:"text"},{key:"topic",label:"Topic",width:"250px",type:"text"},{key:"target_date",label:"Target Date",width:"120px",type:"date"},{key:"learning_status",label:"Learning Status",width:"130px",type:"select",options:["In Queue","To Do","In Progress","Done","Closed"]},{key:"learning_stage",label:"Learning Stage",width:"130px",type:"select",options:["Initiated","Skimmed","Grasped","Practiced","Revised"]},{key:"learning_proficiency",label:"Proficiency",width:"110px",type:"select",options:["Novice","Competent","Expert","Master"]},{key:"progress_percentage",label:"Progress %",width:"100px",type:"number",min:0,max:100},{key:"notes",label:"Notes",width:"200px",type:"text"}];(0,n.useEffect)(()=>{x()},[t]);let x=async()=>{try{h(!0);let e=t?l.filter(e=>e.subject.toLowerCase()===t.name.toLowerCase()):l;o(e)}catch(e){console.error("Failed to fetch study plans:",e)}finally{h(!1)}},b=(e,t,a)=>{d({uniqueId:e,columnKey:t}),u(a||"")},f=async()=>{if(c){try{let e=g.find(e=>e.key===c.columnKey),t=p;"number"===e.type?t=parseInt(p)||0:"date"===e.type&&(t=p?new Date(p).toISOString():null),c.columnKey;let s=l.map(e=>e.unique_id===c.uniqueId?{...e,[c.columnKey]:t}:e);o(s),localStorage.setItem("study-plans-data",JSON.stringify(s)),a&&a()}catch(e){console.error("Failed to update study plan:",e)}d(null),u("")}},j=e=>{"Enter"===e.key?f():"Escape"===e.key&&(d(null),u(""))},v=async()=>{try{let e={curriculum:(null==t?void 0:t.name)||"JEE",grade:11,subject:(null==t?void 0:t.name)||"Mathematics",chapter_name:"New Chapter",topic:"New Topic",target_date:null,learning_status:"In Queue",learning_stage:"Initiated",learning_proficiency:"Novice",progress_percentage:0,notes:""},s=[...l,{...e,unique_id:"NEW-".concat(Date.now())}];o(s),localStorage.setItem("study-plans-data",JSON.stringify(s)),a&&a()}catch(e){console.error("Failed to add row:",e)}},y=async e=>{if(!confirm("Are you sure you want to delete this row?"))return;let t=l.filter(t=>t.unique_id!==e);o(t),localStorage.setItem("study-plans-data",JSON.stringify(t)),a&&a()},N=async e=>{try{let s={...{curriculum:(null==t?void 0:t.name)||"JEE",grade:11,subject:(null==t?void 0:t.name)||"Mathematics",chapter_id:"CH-".concat(Date.now()),chapter_name:"New Chapter",topic:"New Topic",target_date:null,learning_status:"In Queue",learning_stage:"Initiated",learning_proficiency:"Novice",progress_percentage:0,notes:""},unique_id:"INSERT-".concat(Date.now())},n=[...l];n.splice(e,0,s),o(n),localStorage.setItem("study-plans-data",JSON.stringify(n)),a&&a()}catch(e){console.error("Failed to insert row:",e)}};return m?(0,s.jsx)("div",{className:"study-plan-container",children:(0,s.jsx)("div",{className:"study-plan-header",children:(0,s.jsxs)("div",{className:"header-info",children:[(0,s.jsx)("h1",{children:t?"".concat(t.name," Study Plan"):"Complete Study Plan"}),(0,s.jsx)("p",{children:"Master curriculum management with comprehensive tracking"})]})})}):(0,s.jsx)("div",{className:"study-plan-container",children:(0,s.jsx)("div",{className:"excel-grid-container",children:(0,s.jsxs)("div",{className:"excel-grid",children:[(0,s.jsx)("div",{className:"grid-row header-row",children:g.map(e=>(0,s.jsx)("div",{className:"grid-cell header-cell",style:{width:e.width,minWidth:e.width},children:e.label},e.key))}),l.map(e=>(0,s.jsx)("div",{className:"grid-row data-row",children:g.map(t=>(0,s.jsxs)("div",{className:"grid-cell",style:{width:t.width,minWidth:t.width},children:["actions"===t.key&&(0,s.jsxs)("div",{className:"action-buttons",children:[(0,s.jsx)("button",{className:"action-btn add-btn",onClick:()=>N(l.indexOf(e)),title:"Insert row above",children:"+"}),(0,s.jsx)("button",{className:"action-btn delete-btn",onClick:()=>y(e.unique_id),title:"Delete row",children:"\xd7"})]}),"unique_id"===t.key&&(0,s.jsx)("span",{className:"readonly-cell",children:e.unique_id}),"curriculum"===t.key&&((null==c?void 0:c.uniqueId)===e.unique_id&&"curriculum"===c.columnKey?(0,s.jsx)("input",{type:"text",value:p,onChange:e=>u(e.target.value),onBlur:f,onKeyDown:j,autoFocus:!0,className:"grid-input"}):(0,s.jsx)("span",{className:"editable-cell",onClick:()=>b(e.unique_id,"curriculum",e.curriculum),children:e.curriculum})),"grade"===t.key&&((null==c?void 0:c.uniqueId)===e.unique_id&&"grade"===c.columnKey?(0,s.jsx)("input",{type:"number",value:p,onChange:e=>u(e.target.value),onBlur:f,onKeyDown:j,autoFocus:!0,className:"grid-input",min:"9",max:"12"}):(0,s.jsx)("span",{className:"editable-cell",onClick:()=>b(e.unique_id,"grade",e.grade.toString()),children:e.grade})),"subject"===t.key&&(0,s.jsx)("span",{className:"readonly-cell",children:e.subject}),"chapter_id"===t.key&&(0,s.jsx)("span",{className:"readonly-cell",children:e.chapter_id}),"chapter_name"===t.key&&((null==c?void 0:c.uniqueId)===e.unique_id&&"chapter_name"===c.columnKey?(0,s.jsx)("input",{type:"text",value:p,onChange:e=>u(e.target.value),onBlur:f,onKeyDown:j,autoFocus:!0,className:"grid-input"}):(0,s.jsx)("span",{className:"editable-cell",onClick:()=>b(e.unique_id,"chapter_name",e.chapter_name),children:e.chapter_name})),"topic_id"===t.key&&(0,s.jsx)("span",{className:"readonly-cell",children:e.topic_id}),"topic"===t.key&&((null==c?void 0:c.uniqueId)===e.unique_id&&"topic"===c.columnKey?(0,s.jsx)("input",{type:"text",value:p,onChange:e=>u(e.target.value),onBlur:f,onKeyDown:j,autoFocus:!0,className:"grid-input"}):(0,s.jsx)("span",{className:"editable-cell",onClick:()=>b(e.unique_id,"topic",e.topic),children:e.topic})),"target_date"===t.key&&((null==c?void 0:c.uniqueId)===e.unique_id&&"target_date"===c.columnKey?(0,s.jsx)("input",{type:"date",value:p,onChange:e=>u(e.target.value),onBlur:f,onKeyDown:j,autoFocus:!0,className:"grid-input"}):(0,s.jsx)("span",{className:"editable-cell",onClick:()=>b(e.unique_id,"target_date",e.target_date?new Date(e.target_date).toISOString().split("T")[0]:""),children:e.target_date?new Date(e.target_date).toLocaleDateString():""})),"learning_status"===t.key&&((null==c?void 0:c.uniqueId)===e.unique_id&&"learning_status"===c.columnKey?(0,s.jsx)("select",{value:p,onChange:e=>u(e.target.value),onBlur:f,onKeyDown:j,autoFocus:!0,className:"grid-select",children:t.options.map(e=>(0,s.jsx)("option",{value:e,children:e},e))}):(0,s.jsx)("span",{className:"status-badge",style:{backgroundColor:"".concat(i(e.learning_status),"20"),color:i(e.learning_status),borderColor:i(e.learning_status)},onClick:()=>b(e.unique_id,"learning_status",e.learning_status),children:e.learning_status})),"learning_stage"===t.key&&((null==c?void 0:c.uniqueId)===e.unique_id&&"learning_stage"===c.columnKey?(0,s.jsx)("select",{value:p,onChange:e=>u(e.target.value),onBlur:f,onKeyDown:j,autoFocus:!0,className:"grid-select",children:t.options.map(e=>(0,s.jsx)("option",{value:e,children:e},e))}):(0,s.jsx)("span",{className:"editable-cell",onClick:()=>b(e.unique_id,"learning_stage",e.learning_stage),children:e.learning_stage})),"learning_proficiency"===t.key&&((null==c?void 0:c.uniqueId)===e.unique_id&&"learning_proficiency"===c.columnKey?(0,s.jsx)("select",{value:p,onChange:e=>u(e.target.value),onBlur:f,onKeyDown:j,autoFocus:!0,className:"grid-select",children:t.options.map(e=>(0,s.jsx)("option",{value:e,children:e},e))}):(0,s.jsx)("span",{className:"proficiency-display",onClick:()=>b(e.unique_id,"learning_proficiency",e.learning_proficiency),children:D(e.learning_proficiency)})),"progress_percentage"===t.key&&((null==c?void 0:c.uniqueId)===e.unique_id&&"progress_percentage"===c.columnKey?(0,s.jsx)("input",{type:"number",value:p,onChange:e=>u(e.target.value),onBlur:f,onKeyDown:j,autoFocus:!0,className:"grid-input",min:"0",max:"100"}):(0,s.jsxs)("span",{className:"editable-cell",onClick:()=>b(e.unique_id,"progress_percentage",e.progress_percentage.toString()),children:[e.progress_percentage,"%"]})),"notes"===t.key&&((null==c?void 0:c.uniqueId)===e.unique_id&&"notes"===c.columnKey?(0,s.jsx)("input",{type:"text",value:p,onChange:e=>u(e.target.value),onBlur:f,onKeyDown:j,autoFocus:!0,className:"grid-input"}):(0,s.jsx)("span",{className:"editable-cell",onClick:()=>b(e.unique_id,"notes",e.notes||""),children:e.notes||""}))]},"".concat(e.unique_id,"-").concat(t.key)))},e.unique_id)),(0,s.jsx)("div",{className:"grid-row add-row",children:g.map(e=>(0,s.jsxs)("div",{className:"grid-cell",style:{width:e.width,minWidth:e.width},children:["actions"===e.key&&(0,s.jsx)("button",{className:"action-btn add-btn primary",onClick:v,title:"Add new row",children:"+"}),"actions"!==e.key&&(0,s.jsx)("span",{className:"add-placeholder",children:"Click + to add"})]},"add-".concat(e.key)))})]})})})}function Z(){let[e,t]=(0,n.useState)([]),a=(0,n.useRef)(null);(0,n.useEffect)(()=>{let e=[{id:"sleep",name:"Sleep Timer",description:"Time to wind down and sleep",iconType:"moon",duration:1800,timeLeft:1800,isRunning:!1,presets:[15,30,45,60]},{id:"screen",name:"Screen Timer",description:"Limit screen time for eye health",iconType:"eye",duration:3600,timeLeft:3600,isRunning:!1,presets:[30,60,90,120]},{id:"break",name:"Break Timer",description:"Take a break from studying",iconType:"clock",duration:600,timeLeft:600,isRunning:!1,presets:[5,10,15,20]},{id:"wakeup",name:"Wakeup Alarm",description:"Gentle morning wake up",iconType:"sun",duration:900,timeLeft:900,isRunning:!1,presets:[10,15,20,30]},{id:"food",name:"Food Timer",description:"Cooking or meal preparation",iconType:"utensils",duration:1200,timeLeft:1200,isRunning:!1,presets:[10,15,20,30]},{id:"fitness",name:"Fitness Timer",description:"Exercise and workout sessions",iconType:"dumbbell",duration:2700,timeLeft:2700,isRunning:!1,presets:[15,30,45,60]}],a=localStorage.getItem("timer-states");if(a){let s=JSON.parse(a);t(e.map(e=>{let t=s.find(t=>t.id===e.id);return t?{...e,...t}:e}))}else t(e)},[]),(0,n.useEffect)(()=>{e.length>0&&localStorage.setItem("timer-states",JSON.stringify(e))},[e]),(0,n.useEffect)(()=>(e.filter(e=>e.isRunning).length>0?a.current=setInterval(()=>{t(e=>e.map(e=>e.isRunning&&e.timeLeft>0?{...e,timeLeft:e.timeLeft-1}:e.isRunning&&0===e.timeLeft?{...e,isRunning:!1}:e))},1e3):a.current&&clearInterval(a.current),()=>{a.current&&clearInterval(a.current)}),[e]),(0,n.useEffect)(()=>{e.forEach(e=>{if(0===e.timeLeft&&!e.isRunning){let t=new(window.AudioContext||window.webkitAudioContext),a=t.createOscillator(),s=t.createGain();a.connect(s),s.connect(t.destination),a.frequency.setValueAtTime(800,t.currentTime),s.gain.setValueAtTime(.3,t.currentTime),s.gain.exponentialRampToValueAtTime(.01,t.currentTime+.5),a.start(t.currentTime),a.stop(t.currentTime+.5),"granted"===Notification.permission&&new Notification("".concat(e.name," Completed!"),{body:"".concat(e.description," - Time's up!"),icon:"/favicon.ico"})}})},[e]);let i=(e,a)=>{t(t=>t.map(t=>t.id===e?{...t,duration:a,timeLeft:a,isRunning:!1}:t))};return(0,n.useEffect)(()=>{"Notification"in window&&"default"===Notification.permission&&Notification.requestPermission()},[]),(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-blue-50",children:[(0,s.jsx)("div",{className:"bg-pink-50 shadow-sm border-b",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsx)("div",{className:"flex justify-between items-center py-6",children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[(0,s.jsx)("span",{style:{width:"32px",height:"32px",display:"inline-flex",flexShrink:0},children:(0,s.jsx)(b,{})}),"Timer Dashboard"]}),(0,s.jsx)("p",{className:"text-gray-600 mt-1",children:"Track time for various activities and routines"})]})})})}),(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>(0,s.jsxs)("div",{className:"rounded-xl border-2 p-6 transition-all duration-300 ".concat(e.isRunning?"border-green-500 bg-green-50":0===e.timeLeft?"border-red-500 bg-red-50":"border-gray-300 bg-pink-50"),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"p-2 bg-gray-100 rounded-lg",style:{width:"48px",height:"48px",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:(0,s.jsx)("div",{style:{width:"28px",height:"28px",display:"flex",alignItems:"center",justifyContent:"center"},children:(e=>{switch(e){case"moon":return(0,s.jsx)(H,{});case"eye":return(0,s.jsx)(J,{});case"clock":default:return(0,s.jsx)(b,{});case"sun":return(0,s.jsx)(V,{});case"utensils":return(0,s.jsx)(G,{});case"dumbbell":return(0,s.jsx)(_,{})}})(e.iconType)})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold text-lg",children:e.name}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:e.description})]})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsx)("div",{className:"text-2xl font-mono font-bold",children:(()=>{let t=Math.floor(e.timeLeft/3600),a=Math.floor(e.timeLeft%3600/60),s=e.timeLeft%60;return t>0?"".concat(t.toString().padStart(2,"0"),":").concat(a.toString().padStart(2,"0"),":").concat(s.toString().padStart(2,"0")):"".concat(a.toString().padStart(2,"0"),":").concat(s.toString().padStart(2,"0"))})()}),(0,s.jsxs)("div",{className:"text-xs text-gray-500",children:["of ",(()=>{let t=Math.floor(e.duration/3600),a=Math.floor(e.duration%3600/60),s=e.duration%60;return t>0?"".concat(t.toString().padStart(2,"0"),":").concat(a.toString().padStart(2,"0"),":").concat(s.toString().padStart(2,"0")):"".concat(a.toString().padStart(2,"0"),":").concat(s.toString().padStart(2,"0"))})()]})]})]}),(0,s.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-4",children:(0,s.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 ".concat(e.isRunning?"bg-green-500":0===e.timeLeft?"bg-red-500":"bg-blue-500"),style:{width:"".concat((e.duration-e.timeLeft)/e.duration*100,"%")}})}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex gap-2",children:[!e.isRunning&&e.timeLeft===e.duration&&(0,s.jsx)("button",{onClick:()=>{var a;return a=e.id,void t(e=>e.map(e=>e.id===a?{...e,isRunning:!0}:e))},className:"p-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors",children:(0,s.jsx)(T,{})}),e.isRunning&&(0,s.jsx)("button",{onClick:()=>{var a;return a=e.id,void t(e=>e.map(e=>e.id===a?{...e,isRunning:!1}:e))},className:"p-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors",children:(0,s.jsx)(P,{})}),e.isRunning||e.timeLeft<e.duration&&(0,s.jsx)("button",{onClick:()=>{var a;return a=e.id,void t(e=>e.map(e=>e.id===a?{...e,isRunning:!1,timeLeft:e.duration}:e))},className:"p-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:(0,s.jsx)(E,{})}),(0,s.jsx)("button",{onClick:()=>{var a;return a=e.id,void t(e=>e.map(e=>e.id===a?{...e,isRunning:!1,timeLeft:e.duration}:e))},className:"p-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:(0,s.jsx)(M,{})})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[e.presets.map((t,a)=>(0,s.jsxs)("button",{onClick:()=>i(e.id,60*t),className:"px-3 py-1 text-sm bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition-colors",children:[t,"m"]},a)),(0,s.jsx)("button",{onClick:()=>{let t=prompt("Enter duration in minutes:");t&&parseInt(t)>0&&i(e.id,60*parseInt(t))},className:"px-3 py-1 text-sm bg-purple-100 text-purple-700 rounded hover:bg-purple-200 transition-colors",children:"Custom"})]})]}),0===e.timeLeft&&!e.isRunning&&(0,s.jsxs)("div",{className:"mt-4 p-3 bg-red-100 text-red-800 rounded-lg text-center font-medium",children:["⏰ Time's up! ",e.name," completed."]}),e.isRunning&&(0,s.jsxs)("div",{className:"mt-4 p-3 bg-green-100 text-green-800 rounded-lg text-center font-medium",children:["▶️ ",e.name," is running..."]})]},e.id))}),(0,s.jsxs)("div",{className:"mt-12 bg-pink-50 rounded-xl shadow-sm border p-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"How to Use"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-medium mb-2",children:"Timer Controls"}),(0,s.jsxs)("ul",{className:"text-sm text-gray-600 space-y-1",children:[(0,s.jsxs)("li",{children:["• ",(0,s.jsx)("strong",{children:"Play"}),": Start the timer"]}),(0,s.jsxs)("li",{children:["• ",(0,s.jsx)("strong",{children:"Pause"}),": Pause the running timer"]}),(0,s.jsxs)("li",{children:["• ",(0,s.jsx)("strong",{children:"Stop"}),": Stop and reset to full duration"]}),(0,s.jsxs)("li",{children:["• ",(0,s.jsx)("strong",{children:"Reset"}),": Reset to original duration"]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-medium mb-2",children:"Duration Presets"}),(0,s.jsxs)("ul",{className:"text-sm text-gray-600 space-y-1",children:[(0,s.jsx)("li",{children:"• Quick preset buttons for common durations"}),(0,s.jsxs)("li",{children:["• ",(0,s.jsx)("strong",{children:"Custom"}),": Set any duration in minutes"]}),(0,s.jsx)("li",{children:"• All changes apply immediately"})]})]})]})]})]})]})}function X(){let[e,t]=(0,n.useState)(null),[a,i]=(0,n.useState)(null),[r,l]=(0,n.useState)(null);(0,n.useEffect)(()=>{let e=JSON.parse(localStorage.getItem("study-plans-data")||"[]"),a=e.length,s=e.filter(e=>"Done"===e.learning_status).length,n=e.filter(e=>"In Progress"===e.learning_status).length,r=e.reduce((e,t)=>e+(t.progress_percentage||0),0),o=a>0?Math.round(r/a):0,c={};e.forEach(e=>{c[e.subject]||(c[e.subject]={total:0,completed:0,inProgress:0}),c[e.subject].total++,"Done"===e.learning_status&&c[e.subject].completed++,"In Progress"===e.learning_status&&c[e.subject].inProgress++}),t({totalTopics:a,completedTopics:s,inProgressTopics:n,averageProgress:o,subjectStats:c});let d=JSON.parse(localStorage.getItem("timer-states")||"[]");i({totalTimerSessions:d.length,activeTimers:d.filter(e=>e.isRunning).length,timers:d});let p=JSON.parse(localStorage.getItem("schedule-events")||"[]"),u=p.filter(e=>new Date(e.date)>=new Date).length;l({totalEvents:p.length,upcomingEvents:u,events:p})},[]);let o=e?Object.entries(e.subjectStats).map(e=>{let[t,a]=e;return{label:t.substring(0,3),value:Math.round(a.completed/a.total*100)}}):[];return e?(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:[(0,s.jsx)("div",{className:"bg-pink-50 shadow-sm border-b",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsx)("div",{className:"flex justify-between items-center py-6",children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[(0,s.jsx)("svg",{style:{width:"32px",height:"32px",minWidth:"32px",minHeight:"32px"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Dashboard"]}),(0,s.jsx)("p",{className:"text-gray-600 mt-1",children:"Track your progress and productivity"})]})})})}),(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,s.jsx)("div",{className:"p-6 rounded-xl border bg-blue-50 border-blue-200",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-blue-600",children:"Study Progress"}),(0,s.jsxs)("p",{className:"text-3xl font-bold text-blue-700",children:[e.averageProgress,"%"]}),(0,s.jsxs)("p",{className:"text-sm text-blue-600 mt-1",children:[e.completedTopics,"/",e.totalTopics," topics"]}),(0,s.jsxs)("div",{className:"flex items-center mt-2",children:[(0,s.jsx)(N,{style:{width:"16px",height:"16px"}}),(0,s.jsx)("span",{className:"text-sm ml-1 text-blue-600",children:"+5% this week"})]})]}),(0,s.jsx)("div",{className:"p-3 bg-blue-100 rounded-lg",children:(0,s.jsx)(g,{style:{width:"24px",height:"24px"}})})]})}),(0,s.jsx)("div",{className:"p-6 rounded-xl border bg-green-50 border-green-200",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-green-600",children:"Active Timers"}),(0,s.jsx)("p",{className:"text-3xl font-bold text-green-700",children:(null==a?void 0:a.activeTimers)||0}),(0,s.jsx)("p",{className:"text-sm text-green-600 mt-1",children:"Currently running"})]}),(0,s.jsx)("div",{className:"p-3 bg-green-100 rounded-lg",children:(0,s.jsx)(b,{style:{width:"24px",height:"24px"}})})]})}),(0,s.jsx)("div",{className:"p-6 rounded-xl border bg-yellow-50 border-yellow-200",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-yellow-600",children:"Upcoming Events"}),(0,s.jsx)("p",{className:"text-3xl font-bold text-yellow-700",children:(null==r?void 0:r.upcomingEvents)||0}),(0,s.jsx)("p",{className:"text-sm text-yellow-600 mt-1",children:"This month"})]}),(0,s.jsx)("div",{className:"p-3 bg-yellow-100 rounded-lg",children:(0,s.jsx)(S,{style:{width:"24px",height:"24px"}})})]})}),(0,s.jsx)("div",{className:"p-6 rounded-xl border bg-purple-50 border-purple-200",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-purple-600",children:"Study Streak"}),(0,s.jsx)("p",{className:"text-3xl font-bold text-purple-700",children:"7"}),(0,s.jsx)("p",{className:"text-sm text-purple-600 mt-1",children:"Days in a row"}),(0,s.jsx)("p",{className:"text-sm text-purple-600 mt-2",children:"Keep it up!"})]}),(0,s.jsx)("div",{className:"p-3 bg-purple-100 rounded-lg",children:(0,s.jsx)(w,{style:{width:"24px",height:"24px"}})})]})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[(0,s.jsxs)("div",{className:"bg-pink-50 p-6 rounded-xl shadow-sm border",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Weekly Study Progress"}),(0,s.jsx)("div",{className:"flex items-end justify-between h-32 gap-2",children:[{label:"Mon",value:65},{label:"Tue",value:78},{label:"Wed",value:82},{label:"Thu",value:71},{label:"Fri",value:89},{label:"Sat",value:94},{label:"Sun",value:76}].map((e,t)=>(0,s.jsxs)("div",{className:"flex-1 flex flex-col items-center",children:[(0,s.jsx)("div",{className:"w-full bg-blue-500 rounded-t transition-all duration-300",style:{height:"".concat(e.value/100*100,"%")}}),(0,s.jsx)("span",{className:"text-xs text-gray-600 mt-2 text-center",children:e.label})]},t))})]}),o.length>0&&(0,s.jsxs)("div",{className:"bg-pink-50 p-6 rounded-xl shadow-sm border",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Subject-wise Progress"}),(0,s.jsx)("div",{className:"flex items-end justify-between h-32 gap-2",children:o.map((e,t)=>(0,s.jsxs)("div",{className:"flex-1 flex flex-col items-center",children:[(0,s.jsx)("div",{className:"w-full bg-green-500 rounded-t transition-all duration-300",style:{height:"".concat(e.value,"%")}}),(0,s.jsx)("span",{className:"text-xs text-gray-600 mt-2 text-center",children:e.label})]},t))})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[(0,s.jsxs)("div",{className:"bg-pink-50 p-6 rounded-xl shadow-sm border",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Study Topics Progress"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"w-full",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Completed Topics"}),(0,s.jsxs)("span",{className:"text-sm text-gray-500",children:[e.completedTopics,"/",e.totalTopics]})]}),(0,s.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,s.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 bg-green-500",style:{width:"".concat(e.completedTopics/e.totalTopics*100,"%")}})})]}),(0,s.jsxs)("div",{className:"w-full",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"In Progress Topics"}),(0,s.jsxs)("span",{className:"text-sm text-gray-500",children:[e.inProgressTopics,"/",e.totalTopics]})]}),(0,s.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,s.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 bg-blue-500",style:{width:"".concat(e.inProgressTopics/e.totalTopics*100,"%")}})})]}),(0,s.jsxs)("div",{className:"w-full",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Remaining Topics"}),(0,s.jsxs)("span",{className:"text-sm text-gray-500",children:[e.totalTopics-e.completedTopics-e.inProgressTopics,"/",e.totalTopics]})]}),(0,s.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,s.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 bg-yellow-500",style:{width:"".concat((e.totalTopics-e.completedTopics-e.inProgressTopics)/e.totalTopics*100,"%")}})})]})]})]}),(0,s.jsxs)("div",{className:"bg-pink-50 p-6 rounded-xl shadow-sm border",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Subject Breakdown"}),(0,s.jsx)("div",{className:"space-y-4",children:Object.entries(e.subjectStats).map(e=>{let[t,a]=e;return(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-sm font-medium",children:t}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)("span",{className:"text-sm text-gray-600",children:[a.completed,"/",a.total]}),(0,s.jsx)("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:(0,s.jsx)("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:"".concat(a.completed/a.total*100,"%")}})})]})]},t)})})]})]}),(0,s.jsxs)("div",{className:"bg-pink-50 p-6 rounded-xl shadow-sm border",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Recent Activity"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4 p-3 bg-gray-50 rounded-lg",children:[(0,s.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,s.jsx)(k,{})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"font-medium",children:"Completed Physics Chapter 1"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"2 hours ago"})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4 p-3 bg-gray-50 rounded-lg",children:[(0,s.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,s.jsx)(b,{})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"font-medium",children:"Started 25-minute study timer"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"4 hours ago"})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4 p-3 bg-gray-50 rounded-lg",children:[(0,s.jsx)("div",{className:"p-2 bg-yellow-100 rounded-lg",children:(0,s.jsx)(S,{})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"font-medium",children:"Added Diwali festival to schedule"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"1 day ago"})]})]})]})]})]})]}):(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),(0,s.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading dashboard..."})]})})}function $(){let[e,t]=(0,n.useState)([]),[a,i]=(0,n.useState)([]),[o,c]=(0,n.useState)(null),[u,N]=(0,n.useState)(!0),[w,k]=(0,n.useState)(null),[_,T]=(0,n.useState)(null),[P,E]=(0,n.useState)(null),[M,H]=(0,n.useState)(""),[J,V]=(0,n.useState)(null),[G,U]=(0,n.useState)(null),[$,ee]=(0,n.useState)(null),[et,ea]=(0,n.useState)(null),[es,en]=(0,n.useState)(null),[ei,er]=(0,n.useState)([]),[el,eo]=(0,n.useState)([]),[ec,ed]=(0,n.useState)(""),[ep,eu]=(0,n.useState)("All"),[em,eh]=(0,n.useState)("All"),[eg,ex]=(0,n.useState)(null),[eb,ef]=(0,n.useState)("ocean"),[ej,ev]=(0,n.useState)("dark"),[ey,eN]=(0,n.useState)("default"),[ew,ek]=(0,n.useState)("kanban"),[eS,eC]=(0,n.useState)("status"),[e_,eD]=(0,n.useState)("all"),[eT,eP]=(0,n.useState)("all"),[eE,eM]=(0,n.useState)("all"),[eL,eI]=(0,n.useState)([]),[eq,ez]=(0,n.useState)(!0),[eW,eB]=(0,n.useState)(!1),[eA,eR]=(0,n.useState)("zen-mixed"),[eF,eO]=(0,n.useState)(.2),[eH,eJ]=(0,n.useState)(!0),[eV,eG]=(0,n.useState)(!0),[eK,eU]=(0,n.useState)(null),[eQ,eY]=(0,n.useState)({top:0,left:0}),[eZ,eX]=(0,n.useState)([]),[e$,e0]=(0,n.useState)(""),[e1,e2]=(0,n.useState)([]),[e5,e4]=(0,n.useState)(!1),[e6,e3]=(0,n.useState)(null),[e8,e9]=(0,n.useState)(!1),[e7,te]=(0,n.useState)("kanban"),[tt,ta]=(0,n.useState)(!0),[ts,tn]=(0,n.useState)(!0),[ti,tr]=(0,n.useState)(!0),[tl,to]=(0,n.useState)(!0),[tc,td]=(0,n.useState)(!1),[tp,tu]=(0,n.useState)(!1),[tm,th]=(0,n.useState)("visibility"),[tg,tx]=(0,n.useState)("#ffffff"),[tb,tf]=(0,n.useState)(100),[tj,tv]=(0,n.useState)(10),[ty,tN]=(0,n.useState)(15),[tw,tk]=(0,n.useState)(0),[tS,tC]=(0,n.useState)(""),[t_,tD]=(0,n.useState)("default"),[tT,tP]=(0,n.useState)(new Set),[tE,tM]=(0,n.useState)(!1),[tL,tI]=(0,n.useState)("11"),[tq,tz]=(0,n.useState)("JEE"),[tW,tB]=(0,n.useState)([]),tA=e=>({"In Queue":"#6b7280","To Do":"#3b82f6","In Progress":"#f59e0b",Done:"#10b981",Closed:"#8b5cf6"})[e]||"#6b7280",tR=e=>({Novice:"#ef4444",Competent:"#f59e0b",Expert:"#3b82f6",Master:"#10b981"})["number"==typeof e?({25:"Novice",50:"Competent",75:"Expert",100:"Master"})[e]:e]||"#6b7280",tF=(0,d.FR)((0,d.MS)(d.AN,{activationConstraint:{distance:8}}),(0,d.MS)(d.uN,{coordinateGetter:p.JR})),tO="status"===eS?[{id:"backlog",name:"Backlog",status:"In Queue",field:"aggregatedStatus"},{id:"todo",name:"To Do",status:"To Do",field:"aggregatedStatus"},{id:"inprogress",name:"In Progress",status:"In Progress",field:"aggregatedStatus"},{id:"done",name:"Done",status:"Done",field:"aggregatedStatus"}]:"stage"===eS?[{id:"initiated",name:"Initiated",status:"Initiated",field:"aggregatedStage"},{id:"skimmed",name:"Skimmed",status:"Skimmed",field:"aggregatedStage"},{id:"grasped",name:"Grasped",status:"Grasped",field:"aggregatedStage"},{id:"revised",name:"Revised",status:"Revised",field:"aggregatedStage"},{id:"mastered",name:"Mastered",status:"Mastered",field:"aggregatedStage"}]:"proficiency"===eS?[{id:"novice",name:"Novice",status:25,field:"aggregatedProficiency",minValue:0,maxValue:37},{id:"competent",name:"Competent",status:50,field:"aggregatedProficiency",minValue:38,maxValue:62},{id:"expert",name:"Expert",status:75,field:"aggregatedProficiency",minValue:63,maxValue:87},{id:"master",name:"Master",status:100,field:"aggregatedProficiency",minValue:88,maxValue:100}]:void 0;(0,n.useEffect)(()=>{if(eL&&eL.length>0&&o){let e=eL.filter(e=>e.subject===o.name),t=K(e),a={};t.forEach(e=>{let t=e.aggregatedStatus||"Unknown";a[t]=(a[t]||0)+1}),console.log("[CHART] Chapters for ".concat(o.name,":"),{totalChapters:t.length,totalTopics:e.length,statusDistribution:a,chapters:t.map(e=>({name:e.chapter_name,status:e.aggregatedStatus,topics:e.totalTopics}))})}},[eL,o]),(0,n.useEffect)(()=>{tJ()},[]),(0,n.useEffect)(()=>{if(tW.length>0){let e=tW.filter(e=>String(e.grade)===String(tL)),t=[...new Set(e.map(e=>e.subject))].map((e,t)=>({subject_id:t+1,name:e,Chapters:[]}));i(t),eI(e),t.length>0&&!t.find(e=>e.name===(null==o?void 0:o.name))&&c(t[0])}},[tL,tW]),(0,n.useEffect)(()=>{document.body.className="bg-".concat(eb," theme-").concat(ej)},[eb,ej]),(0,n.useEffect)(()=>{if(eV&&eH){let e=setInterval(()=>{let e=["zen-mixed","zen-forest","zen-rain","zen-wind","zen-birds","zen-water"],t=(e.indexOf(eA)+1)%e.length;eR(e[t])},18e5);return()=>clearInterval(e)}},[eV,eH,eA]),(0,n.useEffect)(()=>{let e=e=>{let t=document.querySelector(".buckets-container");if(t)switch(e.key){case"ArrowLeft":(e.ctrlKey||e.metaKey)&&(e.preventDefault(),t.scrollBy({left:-350,behavior:"smooth"}));break;case"ArrowRight":(e.ctrlKey||e.metaKey)&&(e.preventDefault(),t.scrollBy({left:350,behavior:"smooth"}));break;case"Home":(e.ctrlKey||e.metaKey)&&(e.preventDefault(),t.scrollTo({left:0,behavior:"smooth"}));break;case"End":(e.ctrlKey||e.metaKey)&&(e.preventDefault(),t.scrollTo({left:t.scrollWidth,behavior:"smooth"}))}};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[]),(0,n.useEffect)(()=>{let e=()=>{let e=document.querySelector(".buckets-container");if(!e)return;let t=e.scrollLeft/(e.scrollWidth-e.clientWidth)*100,a=document.querySelector(".kanban-scroll-progress");if(!a){var s;(a=document.createElement("div")).className="kanban-scroll-progress",a.style.cssText="\n          position: absolute;\n          bottom: 0;\n          left: 0;\n          height: 3px;\n          background: linear-gradient(90deg, #6366f1 0%, #a855f7 100%);\n          transition: width 0.1s ease;\n          z-index: 10;\n          box-shadow: 0 0 10px rgba(99, 102, 241, 0.5);\n        ",null==(s=e.parentElement)||s.appendChild(a)}a.style.width="".concat(t,"%")},t=document.querySelector(".buckets-container");if(t)return t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)},[e7]),(0,n.useEffect)(()=>{let e=document.querySelector(".main-content-container");if(e){let t=tH(tg,tb/100);e.style.backgroundColor=t,e.style.backdropFilter="blur(".concat(tj,"px)"),e.style.webkitBackdropFilter="blur(".concat(tj,"px)"),e.style.boxShadow="0 ".concat(ty,"px ").concat(2*ty,"px rgba(0, 0, 0, ").concat(ty/100,")"),e.style.border=tw>0?"".concat(tw,"px solid rgba(0, 0, 0, 0.1)"):"none"}},[tg,tb,tj,ty,tw]);let tH=(e,t)=>{let a=parseInt(e.slice(1,3),16),s=parseInt(e.slice(3,5),16),n=parseInt(e.slice(5,7),16);return"rgba(".concat(a,", ").concat(s,", ").concat(n,", ").concat(t,")")};(0,n.useEffect)(()=>{let e=document.querySelector(".buckets-container");if(!e)return;let t=0,a=0,s=0,n=n=>{t=n.touches[0].clientX,a=n.touches[0].clientY,s=e.scrollLeft},i=n=>{let i=n.touches[0].clientX,r=n.touches[0].clientY,l=t-i;Math.abs(l)>Math.abs(a-r)&&(n.preventDefault(),e.scrollLeft=s+l)},r=()=>{let t=Math.round(e.scrollLeft/340);e.scrollTo({left:340*t,behavior:"smooth"})};return e.addEventListener("touchstart",n,{passive:!0}),e.addEventListener("touchmove",i,{passive:!1}),e.addEventListener("touchend",r),()=>{e.removeEventListener("touchstart",n),e.removeEventListener("touchmove",i),e.removeEventListener("touchend",r)}},[e7]);let tJ=async()=>{let e=[];try{let t=localStorage.getItem("study-plans-data");t&&(e=JSON.parse(t),console.log("✅ Loaded ".concat(e.length," records from localStorage")))}catch(e){console.error("❌ localStorage read failed:",e)}if(0===e.length)try{let t=await fetch("/database-export.json");if(t.ok){let a=await t.json();e=a.studyPlans||a,console.log("✅ Loaded ".concat(e.length," records from static export")),localStorage.setItem("study-plans-data",JSON.stringify(e))}else throw Error("Failed to fetch from static export")}catch(e){console.error("❌ Static export fetch failed:",e)}0===e.length&&(console.warn("⚠️ Using fallback demo data"),e=[{unique_id:"PHY-1.1",curriculum:"CBSE",grade:12,subject:"Physics",chapter_id:"PHY-1",chapter_name:"Physical World",topic_id:"PHY-1.1",topic:"Scope and excitement of physics",target_date:"2025-12-31T00:00:00.000Z",learning_status:"Done",learning_stage:"Practiced",learning_proficiency:"Expert",progress_percentage:100,notes:"Completed all practice problems and revision."},{unique_id:"PHY-1.2",curriculum:"CBSE",grade:12,subject:"Physics",chapter_id:"PHY-1",chapter_name:"Physical World",topic_id:"PHY-1.2",topic:"Physics technology and society",target_date:"2025-12-31T00:00:00.000Z",learning_status:"In Progress",learning_stage:"Studied",learning_proficiency:"Competent",progress_percentage:66,notes:"Working on applications in daily life."},{unique_id:"PHY-1.3",curriculum:"CBSE",grade:12,subject:"Physics",chapter_id:"PHY-1",chapter_name:"Physical World",topic_id:"PHY-1.3",topic:"Nature of physical laws",target_date:"2025-12-31T00:00:00.000Z",learning_status:"To Do",learning_stage:"Initiated",learning_proficiency:"Novice",progress_percentage:0,notes:"Need to start studying fundamental laws."},{unique_id:"CHM-1.1",curriculum:"CBSE",grade:12,subject:"Chemistry",chapter_id:"CHM-1",chapter_name:"The Solid State",topic_id:"CHM-1.1",topic:"General characteristics of solid state",target_date:"2025-12-31T00:00:00.000Z",learning_status:"To Do",learning_stage:"Initiated",learning_proficiency:"Novice",progress_percentage:0,notes:"Need to start studying crystal structures."},{unique_id:"CHM-1.2",curriculum:"CBSE",grade:12,subject:"Chemistry",chapter_id:"CHM-1",chapter_name:"The Solid State",topic_id:"CHM-1.2",topic:"Classification of solids",target_date:"2025-12-31T00:00:00.000Z",learning_status:"In Queue",learning_stage:"Initiated",learning_proficiency:"Novice",progress_percentage:0,notes:"Study crystalline and amorphous solids."},{unique_id:"MTH-1.1",curriculum:"CBSE",grade:12,subject:"Mathematics",chapter_id:"MTH-1",chapter_name:"Relations and Functions",topic_id:"MTH-1.1",topic:"Introduction to relations and functions",target_date:"2025-12-31T00:00:00.000Z",learning_status:"In Queue",learning_stage:"Initiated",learning_proficiency:"Novice",progress_percentage:0,notes:"Basic concepts of sets and relations."}]);let a=[...new Set(e.map(e=>e.subject))].map((e,t)=>({subject_id:t+1,name:e,Chapters:[]}));tB(e);let s=e.filter(e=>String(e.grade)===String(tL));t([]),i(a),eI(s),a.length>0&&c(a[0]),N(!1)},tV=async e=>{let{active:t,over:a}=e;if(ee(null),ea(null),en(null),!a)return;let s=t.id,n=a.id;if(s.startsWith("chapter-")&&n.startsWith("chapter-")){let e=s.replace("chapter-",""),t=n.replace("chapter-","");if(e===t)return;let a=K(eL.filter(e=>e.subject===o.name)),i=a.find(t=>t.chapter_id===e),r=a.find(e=>e.chapter_id===t);if(i&&r){let e=i.aggregatedStatus,t=r.aggregatedStatus;if(e!==t)try{let e=i.studyPlans.map(e=>fetch("/api/study-plan",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({unique_id:e.unique_id,learning_status:t,learning_stage:"Done"===t?"Mastered":e.learning_stage,learning_proficiency:"Done"===t?100:e.learning_proficiency,progress_percentage:"Done"===t?100:e.progress_percentage})}));await Promise.all(e),eI(e=>e.map(e=>i.studyPlans.some(t=>t.unique_id===e.unique_id)?{...e,learning_status:t,learning_stage:"Done"===t?"Mastered":e.learning_stage,learning_proficiency:"Done"===t?100:e.learning_proficiency,progress_percentage:"Done"===t?100:e.progress_percentage}:e)),console.log('✅ Chapter "'.concat(i.chapter_name,'" moved to "').concat(t,'" - Database updated'))}catch(e){console.error("Failed to update chapter in database:",e),alert("Failed to save changes. Please try again.")}}}else if(s.startsWith("chapter-")){let e=s.replace("chapter-",""),t=tO.find(e=>e.id===n);if(t){let a=document.querySelector('[data-id="'.concat(s,'"]'));a&&(a.classList.add("dropping"),setTimeout(()=>{a.classList.remove("dropping")},600));try{let a=K(eL.filter(e=>e.subject===o.name)).find(t=>t.chapter_id===e);if(a){let e=a.studyPlans.map(e=>fetch("/api/study-plan",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({unique_id:e.unique_id,learning_status:t.status,learning_stage:"Done"===t.status?"Mastered":e.learning_stage,learning_proficiency:"Done"===t.status?100:e.learning_proficiency,progress_percentage:"Done"===t.status?100:e.progress_percentage})}));await Promise.all(e),eI(e=>e.map(e=>a.studyPlans.some(t=>t.unique_id===e.unique_id)?{...e,learning_status:t.status,learning_stage:"Done"===t.status?"Mastered":e.learning_stage,learning_proficiency:"Done"===t.status?100:e.learning_proficiency,progress_percentage:"Done"===t.status?100:e.progress_percentage}:e)),console.log('✅ Chapter "'.concat(a.chapter_name,'" moved to "').concat(t.status,'" - Database updated'))}}catch(e){console.error("Failed to update chapter in database:",e),alert("Failed to save changes. Please try again.")}}}},tG=async(e,t)=>{try{let a=K(eL.filter(e=>e.subject===o.name)).find(t=>t.chapter_id===e);if(a){let e=a.studyPlans.map(e=>fetch("/api/study-plan",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({unique_id:e.unique_id,learning_status:t,learning_stage:"Done"===t?"Mastered":e.learning_stage,learning_proficiency:"Done"===t?100:e.learning_proficiency,progress_percentage:"Done"===t?100:e.progress_percentage})}));await Promise.all(e),eI(e=>e.map(e=>a.studyPlans.some(t=>t.unique_id===e.unique_id)?{...e,learning_status:t,learning_stage:"Done"===t?"Mastered":e.learning_stage,learning_proficiency:"Done"===t?100:e.learning_proficiency,progress_percentage:"Done"===t?100:e.progress_percentage}:e)),console.log('✅ Chapter "'.concat(a.chapter_name,'" status updated to "').concat(t,'" - Database updated'))}}catch(e){console.error("Failed to update chapter status in database:",e),alert("Failed to save changes. Please try again.")}},tK=async(e,t)=>{console.log("\uD83C\uDFAF onEditChapter called:",e.chapter_name),k(e),console.log("✅ setEditingChapter called")},tU=async()=>{try{let e=await navigator.mediaDevices.getUserMedia({audio:!0}),t=new MediaRecorder(e),a=[];t.ondataavailable=e=>{e.data.size>0&&a.push(e.data)},t.onstop=()=>{let t=new Blob(a,{type:"audio/wav"}),s=URL.createObjectURL(t),n={id:Date.now(),url:s,blob:t,timestamp:new Date().toLocaleString()};e2([...e1,n]),e.getTracks().forEach(e=>e.stop())},e3(t),t.start(),e4(!0)}catch(e){console.error("Error starting recording:",e),alert("Could not access microphone. Please check permissions.")}},tQ=e=>{let t=[...e];switch(t_){case"progress":return t.sort((e,t)=>t.averageProgress-e.averageProgress);case"duedate":return t.sort((e,t)=>(e.studyPlans.map(e=>new Date(e.target_date)).filter(e=>!isNaN(e))[0]||new Date(9999,0,1))-(t.studyPlans.map(e=>new Date(e.target_date)).filter(e=>!isNaN(e))[0]||new Date(9999,0,1)));case"proficiency":let a={Master:0,Expert:1,Competent:2,Novice:3};return t.sort((e,t)=>Math.max(...e.studyPlans.map(e=>a[e.learning_proficiency]||999))-Math.max(...t.studyPlans.map(e=>a[e.learning_proficiency]||999)));default:return t}},tY=e=>e.filter(e=>{if("all"!==e_&&e.aggregatedStatus!==e_||"all"!==eT&&e.aggregatedStage!==eT)return!1;if("all"!==eE){let t=parseInt(eE);if(e.aggregatedProficiency!==t)return!1}if(tS){let t=tS.toLowerCase(),a=e.chapter_name.toLowerCase().includes(t),s=e.studyPlans.some(e=>e.topic.toLowerCase().includes(t));return a||s}return!0}),tZ=e=>{let t=new Set(tT);t.has(e)?t.delete(e):t.add(e),tP(t)};return u?(0,s.jsx)("div",{children:"Loading..."}):(0,s.jsxs)("div",{className:"app-container",children:[(0,s.jsxs)("div",{className:"content-wrapper",children:[ti&&(0,s.jsxs)("aside",{className:"left-sidebar-container ".concat(e8?"collapsed":"expanded"),onClick:e=>{e.target.closest(".filter-select")||e9(!e8)},children:[(0,s.jsxs)("div",{className:"sidebar-header",children:[!e8&&(0,s.jsxs)("div",{className:"sidebar-brand",children:[(0,s.jsx)("img",{src:"/images/logo.png",alt:"Logo",className:"sidebar-brand-logo"}),(0,s.jsxs)("div",{className:"sidebar-brand-content",children:[(0,s.jsxs)("div",{className:"sidebar-brand-title",children:[(0,s.jsx)("span",{className:"brand-prody",children:"Prody"}),(0,s.jsx)("span",{className:"brand-jee",children:"JEE"}),(0,s.jsx)("span",{className:"brand-tm",children:"™"})]}),(0,s.jsx)("div",{className:"sidebar-brand-subtitle",children:"Peepal Prodigy School"})]})]}),(0,s.jsx)("div",{className:"sidebar-class-selector",onClick:e=>e.stopPropagation(),children:e8?(0,s.jsx)("div",{className:"sidebar-class-icon",title:"Class ".concat(tL),children:tL}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("label",{className:"sidebar-class-label",children:"Class"}),(0,s.jsxs)("select",{value:tL,onChange:e=>tI(e.target.value),className:"filter-select sidebar-class-select",children:[(0,s.jsx)("option",{value:"6",children:"6th Grade"}),(0,s.jsx)("option",{value:"11",children:"11th Grade"})]})]})})]}),"            ",(0,s.jsx)("div",{className:"sidebar-content",onClick:e=>e.stopPropagation(),children:(0,s.jsxs)("div",{className:"sidebar-section",children:[(0,s.jsxs)("button",{className:"sidebar-nav-item ".concat("kanban"===e7?"active":""),onClick:()=>{te("kanban"),e9(!1)},"data-icon":"dashboard",children:[(0,s.jsx)("span",{className:"icon-wrapper",children:(0,s.jsx)(v,{})}),!e8&&(0,s.jsx)("span",{children:"Dashboard"})]}),(0,s.jsxs)("button",{className:"sidebar-nav-item ".concat("dashboard"===e7?"active":""),onClick:()=>{te("dashboard"),e9(!1)},"data-icon":"analytics",children:[(0,s.jsx)("span",{className:"icon-wrapper",children:(0,s.jsx)(y,{})}),!e8&&(0,s.jsx)("span",{children:"Analytics"})]}),(0,s.jsxs)("button",{className:"sidebar-nav-item ".concat("schedule"===e7?"active":""),onClick:()=>{te("schedule"),e9(!1)},"data-icon":"schedule",children:[(0,s.jsx)("span",{className:"icon-wrapper",children:(0,s.jsx)(S,{})}),!e8&&(0,s.jsx)("span",{children:"Tasks"})]}),(0,s.jsxs)("button",{className:"sidebar-nav-item ".concat("timer"===e7?"active":""),onClick:()=>{te("timer"),e9(!1)},"data-icon":"timer",children:[(0,s.jsx)("span",{className:"icon-wrapper",children:(0,s.jsx)(C,{})}),!e8&&(0,s.jsx)("span",{children:"Timer"})]}),(0,s.jsxs)("button",{className:"sidebar-nav-item ".concat("goals"===e7?"active":""),onClick:()=>{te("goals"),e9(!1)},"data-icon":"goals",children:[(0,s.jsx)("span",{className:"icon-wrapper",children:(0,s.jsx)(L,{})}),!e8&&(0,s.jsx)("span",{children:"Goals"})]}),(0,s.jsxs)("button",{className:"sidebar-nav-item ".concat("progress"===e7?"active":""),onClick:()=>{te("progress"),e9(!1)},"data-icon":"progress",children:[(0,s.jsx)("span",{className:"icon-wrapper",children:(0,s.jsx)(x,{})}),!e8&&(0,s.jsx)("span",{children:"Progress"})]})]})}),(0,s.jsx)("div",{className:"sidebar-footer",children:(0,s.jsx)("button",{className:"sidebar-toggle-btn",onClick:e=>{e.stopPropagation(),e9(!e8)},title:e8?"Expand Sidebar":"Collapse Sidebar",style:e8?{}:{marginLeft:"auto"},children:e8?(0,s.jsx)(O,{}):(0,s.jsx)(F,{})})})]}),(0,s.jsxs)("main",{className:"main-content-container",children:[(0,s.jsxs)("div",{className:"main-content-header",children:[(0,s.jsx)("div",{className:"content-header-stats",children:o&&"kanban"===e7&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"content-stat",children:[(0,s.jsx)("span",{className:"content-stat-icon",children:(0,s.jsx)(g,{})}),(0,s.jsxs)("div",{className:"content-stat-info",children:[(0,s.jsx)("span",{className:"content-stat-value",children:K(eL.filter(e=>e.subject===o.name)).length}),(0,s.jsx)("span",{className:"content-stat-label",children:"Chapters"})]})]}),"status"===eS&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"content-stat backlog",children:[(0,s.jsx)("span",{className:"content-stat-icon",children:(0,s.jsx)(b,{})}),(0,s.jsxs)("div",{className:"content-stat-info",children:[(0,s.jsx)("span",{className:"content-stat-value",children:K(eL.filter(e=>e.subject===o.name)).filter(e=>"In Queue"===e.aggregatedStatus).length}),(0,s.jsx)("span",{className:"content-stat-label",children:"Backlog"})]})]}),(0,s.jsxs)("div",{className:"content-stat progress",children:[(0,s.jsx)("span",{className:"content-stat-icon",children:(0,s.jsx)(B,{})}),(0,s.jsxs)("div",{className:"content-stat-info",children:[(0,s.jsx)("span",{className:"content-stat-value",children:K(eL.filter(e=>e.subject===o.name)).filter(e=>"In Progress"===e.aggregatedStatus).length}),(0,s.jsx)("span",{className:"content-stat-label",children:"In Progress"})]})]}),(0,s.jsxs)("div",{className:"content-stat done",children:[(0,s.jsx)("span",{className:"content-stat-icon",children:(0,s.jsx)(x,{})}),(0,s.jsxs)("div",{className:"content-stat-info",children:[(0,s.jsx)("span",{className:"content-stat-value",children:K(eL.filter(e=>e.subject===o.name)).filter(e=>"Done"===e.aggregatedStatus).length}),(0,s.jsx)("span",{className:"content-stat-label",children:"Completed"})]})]})]})]})}),(0,s.jsxs)("div",{className:"content-header-actions",children:[(0,s.jsx)("div",{className:"content-header-search",children:(0,s.jsx)("input",{type:"text",placeholder:"Search...",value:tS,onChange:e=>tC(e.target.value),className:"search-input"})}),(0,s.jsx)("button",{className:"content-action-btn ".concat(tc?"active":""),onClick:()=>td(!tc),title:"Settings & Profile",children:(0,s.jsx)(z,{})})]})]}),"kanban"===e7&&(0,s.jsxs)(s.Fragment,{children:[o&&"kanban"===ew&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"kanban-controls-container",children:[(0,s.jsx)("div",{className:"kanban-controls-left",children:(0,s.jsxs)("div",{className:"kanban-subjects-group",children:[(0,s.jsx)("h3",{className:"controls-label",children:"Subjects"}),(0,s.jsx)("div",{className:"subject-chips-horizontal",children:a.map(e=>(0,s.jsxs)("button",{className:"subject-chip ".concat((null==o?void 0:o.subject_id)===e.subject_id?"active":""),onClick:()=>c(e),children:[(0,s.jsx)(g,{}),(0,s.jsx)("span",{children:e.name})]},e.subject_id))})]})}),(0,s.jsxs)("div",{className:"kanban-controls-right",children:[(0,s.jsxs)("div",{className:"kanban-filter-group",children:[(0,s.jsx)("label",{className:"controls-label",children:"Stage"}),(0,s.jsxs)("select",{value:eT,onChange:e=>eP(e.target.value),className:"filter-select",children:[(0,s.jsx)("option",{value:"all",children:"All"}),(0,s.jsx)("option",{value:"Initiated",children:"Initiated"}),(0,s.jsx)("option",{value:"Skimmed",children:"Skimmed"}),(0,s.jsx)("option",{value:"Grasped",children:"Grasped"}),(0,s.jsx)("option",{value:"Practiced",children:"Practiced"}),(0,s.jsx)("option",{value:"Revised",children:"Revised"}),(0,s.jsx)("option",{value:"Mastered",children:"Mastered"})]})]}),(0,s.jsxs)("div",{className:"kanban-filter-group",children:[(0,s.jsx)("label",{className:"controls-label",children:"Proficiency"}),(0,s.jsxs)("select",{value:eE,onChange:e=>eM(e.target.value),className:"filter-select",children:[(0,s.jsx)("option",{value:"all",children:"All"}),(0,s.jsx)("option",{value:"25",children:"Novice"}),(0,s.jsx)("option",{value:"50",children:"Competent"}),(0,s.jsx)("option",{value:"75",children:"Expert"}),(0,s.jsx)("option",{value:"100",children:"Master"})]})]})]})]}),(0,s.jsxs)(d.Mp,{sensors:tF,collisionDetection:d.y$,onDragStart:e=>{let{active:t}=e;if(t.id.startsWith("chapter-")){let e=t.id.replace("chapter-","");ee(e);let a=K(eL.filter(e=>e.subject===o.name)).find(t=>t.chapter_id===e);a&&ea(a.aggregatedStatus)}},onDragOver:e=>{var t;return en((null==(t=e.over)?void 0:t.id)||null)},onDragEnd:tV,children:[(0,s.jsxs)("div",{className:"kanban-two-column-layout",children:[(0,s.jsx)("div",{className:"kanban-left-column",children:(0,s.jsx)("div",{className:"backlog-section",children:tO.filter(e=>"In Queue"===e.status).map(e=>{let t=tQ(tY(K(eL.filter(e=>e.subject===o.name)))).filter(t=>{if("proficiency"===eS&&void 0!==e.minValue){let a=t[e.field]||0;return a>=e.minValue&&a<=e.maxValue}return t[e.field]===e.status});return(0,s.jsx)(Q,{bucket:e,chapters:t,onEditChapter:tK,onUpdateProgress:tJ,onUpdateChapterStatus:tG,getStatusColor:tA,getProficiencyColor:tR,selectedChapters:tT,onToggleChapterSelect:tZ,overId:es},e.id)})})}),(0,s.jsx)("div",{className:"kanban-right-column",children:(0,s.jsxs)("div",{className:"kanban-board",children:[(0,s.jsx)("div",{className:"buckets-container buckets-".concat(tO.filter(e=>"In Queue"!==e.status).length),children:tO.filter(e=>"In Queue"!==e.status).map(e=>{let t=tQ(tY(K(eL.filter(e=>e.subject===o.name)))).filter(t=>{if("proficiency"===eS&&void 0!==e.minValue){let a=t[e.field]||0;return a>=e.minValue&&a<=e.maxValue}return t[e.field]===e.status});return(0,s.jsx)(Q,{bucket:e,chapters:t,onEditChapter:tK,onUpdateProgress:tJ,onUpdateChapterStatus:tG,getStatusColor:tA,getProficiencyColor:tR,selectedChapters:tT,onToggleChapterSelect:tZ,overId:es},e.id)})}),tp&&(0,s.jsxs)("div",{className:"keyboard-hint",children:[(0,s.jsxs)("div",{style:{marginBottom:"4px",fontWeight:600,color:"#1a202c",display:"flex",alignItems:"center",gap:"6px"},children:[(0,s.jsx)(R,{}),(0,s.jsx)("span",{children:"Scrollbar-Free Navigation"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("kbd",{children:"Ctrl"})," + ",(0,s.jsx)("kbd",{children:"←"})," / ",(0,s.jsx)("kbd",{children:"→"})," Navigate columns"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("kbd",{children:"Ctrl"})," + ",(0,s.jsx)("kbd",{children:"Home"})," / ",(0,s.jsx)("kbd",{children:"End"})," Jump to start/end"]}),(0,s.jsx)("div",{style:{marginTop:"4px",fontSize:"10px",color:"#9ca3af"},children:"Mouse wheel also scrolls horizontally"})]})]})})]}),(0,s.jsx)(d.Hd,{dropAnimation:null,modifiers:[e=>{let{transform:t}=e,a="In Queue"===et;return{...t,x:t.x-(a?215:235),y:t.y-(a?100:110)}}],children:$?(()=>{let e=K(eL.filter(e=>e.subject===o.name)).find(e=>e.chapter_id===$);return e?(0,s.jsxs)("div",{className:"chapter-card dragging","data-status":e.aggregatedStatus,style:{cursor:"grabbing"},children:[(0,s.jsxs)("div",{className:"chapter-meta-top",children:[(0,s.jsx)("span",{className:"meta-subject",children:e.subject}),(0,s.jsx)("span",{className:"meta-curriculum",children:(0,s.jsx)("span",{className:"curriculum-badge ".concat(e.curriculum.toLowerCase()),children:e.curriculum})})]}),(0,s.jsx)("div",{className:"chapter-header",style:{cursor:"grabbing",background:"In Queue"===e.aggregatedStatus?"#f3f4f6":"linear-gradient(135deg, ".concat(tA(e.aggregatedStatus),"20, ").concat(tA(e.aggregatedStatus),"60)")},children:(0,s.jsx)("h4",{className:"chapter-title",children:e.chapter_name})}),(0,s.jsxs)("div",{className:"chapter-meta-bottom",children:[(0,s.jsx)("span",{className:"meta-id",children:e.chapter_id}),(0,s.jsx)("span",{className:"detail-label",children:"Stage:"}),(0,s.jsx)("span",{className:"status-badge",children:e.aggregatedStage}),(0,s.jsx)("span",{className:"detail-label",children:"Proficiency:"}),(0,s.jsx)("div",{children:D(e.aggregatedProficiency)})]}),(0,s.jsx)("div",{className:"chapter-body",children:(0,s.jsx)("div",{className:"chapter-stats",children:(0,s.jsxs)("div",{className:"stat-row",children:[(0,s.jsx)("span",{className:"stat-label",children:"Status:"}),(0,s.jsx)("span",{className:"stat-value",children:e.aggregatedStatus})]})})})]}):null})():null})]})]}),o&&"study-plan"===ew&&(0,s.jsx)(Y,{subject:o,onUpdate:tJ,getStatusColor:tA,getProficiencyColor:tR})]}),"schedule"===e7&&(0,s.jsx)(l,{}),"timer"===e7&&(0,s.jsx)(Z,{}),"dashboard"===e7&&(0,s.jsx)(X,{}),"goals"===e7&&(0,s.jsx)(h,{}),"progress"===e7&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"progress-controls-container",children:(0,s.jsxs)("div",{className:"progress-controls-left",children:[(0,s.jsxs)("div",{className:"progress-class-selector",children:[(0,s.jsx)("label",{className:"controls-label",children:"Class"}),(0,s.jsxs)("select",{value:tL,onChange:e=>tI(e.target.value),className:"filter-select",children:[(0,s.jsx)("option",{value:"6",children:"6th Grade"}),(0,s.jsx)("option",{value:"11",children:"11th Grade"})]})]}),(0,s.jsxs)("div",{className:"progress-subjects-group",children:[(0,s.jsx)("h3",{className:"controls-label",children:"Subjects"}),(0,s.jsx)("div",{className:"subject-chips-horizontal",children:a.map(e=>(0,s.jsxs)("button",{className:"subject-chip ".concat((null==o?void 0:o.subject_id)===e.subject_id?"active":""),onClick:()=>c(e),children:[(0,s.jsx)(g,{}),(0,s.jsx)("span",{children:e.name})]},e.subject_id))})]})]})}),o&&(0,s.jsxs)("div",{style:{height:"calc(100% - 80px)",overflow:"hidden",display:"flex",flexDirection:"column"},children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px 20px",background:"rgba(255, 255, 255, 0.9)",borderRadius:"10px",marginBottom:"12px",boxShadow:"0 2px 6px rgba(0, 0, 0, 0.05)"},children:[(0,s.jsxs)("h2",{style:{margin:0,fontSize:"16px",fontWeight:"600",color:"#1a202c"},children:["� Progress Trains - ",o.name]}),(0,s.jsxs)("div",{style:{display:"flex",gap:"12px",fontSize:"11px"},children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[(0,s.jsx)("span",{style:{width:"10px",height:"10px",borderRadius:"2px",background:"#10b981"}}),(0,s.jsx)("span",{children:"100%"})]}),(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[(0,s.jsx)("span",{style:{width:"10px",height:"10px",borderRadius:"2px",background:"#3b82f6"}}),(0,s.jsx)("span",{children:"50-99%"})]}),(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[(0,s.jsx)("span",{style:{width:"10px",height:"10px",borderRadius:"2px",background:"#f59e0b"}}),(0,s.jsx)("span",{children:"1-49%"})]}),(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[(0,s.jsx)("span",{style:{width:"10px",height:"10px",borderRadius:"2px",background:"#9ca3af"}}),(0,s.jsx)("span",{children:"0%"})]})]})]}),(0,s.jsx)("div",{style:{flex:1,overflowY:"auto",overflowX:"hidden",paddingRight:"8px"},children:K(eL.filter(e=>e.subject===o.name)).map((e,t)=>{let a=e.studyPlans.filter(e=>e.progress_percentage>=100).length,n=e.studyPlans.length,i=n>0?Math.round(a/n*100):0,r=100===i;return(0,s.jsxs)("div",{style:{marginBottom:"5px",display:"flex",alignItems:"center",gap:"4px",padding:"5px 8px",background:"rgba(255, 255, 255, 0.5)",borderRadius:"7px",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.04)",transition:"all 0.2s ease"},children:[(0,s.jsxs)("div",{style:{position:"relative",minWidth:"198px",maxWidth:"198px",height:"44px",background:r?"linear-gradient(135deg, #10b981 0%, #059669 100%)":"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",borderRadius:"7px",padding:"5px 10px",display:"flex",flexDirection:"column",justifyContent:"center",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.12)",clipPath:"polygon(0 0, 95% 0, 100% 50%, 95% 100%, 0 100%)",color:"white",cursor:"default"},children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"5px",marginBottom:"2px"},children:[(0,s.jsx)("span",{style:{fontSize:"10px",fontWeight:"700",background:"rgba(255, 255, 255, 0.25)",padding:"2px 5px",borderRadius:"3px"},children:e.chapter_id}),r&&(0,s.jsx)("span",{style:{fontSize:"12px"},children:"\uD83C\uDFC6"})]}),(0,s.jsx)("div",{style:{fontSize:"11px",fontWeight:"600",lineHeight:"1.2",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",paddingRight:"8px"},children:e.chapter_name})]}),(0,s.jsx)("div",{style:{flex:1,display:"flex",gap:"3px",overflow:"hidden",alignItems:"center"},children:e.studyPlans.map((t,a)=>{let n=t.progress_percentage||0,i=100===n?"#10b981":n>=50?"#3b82f6":n>0?"#f59e0b":"#9ca3af",r=100===n,l=100===n?"rgba(16, 185, 129, 0.15)":n>=50?"rgba(59, 130, 246, 0.1)":n>0?"rgba(245, 158, 11, 0.1)":"transparent",o=100===n?"#10b981":n>=50?"#3b82f6":n>0?"#f59e0b":"#d1d5db",c=100===n?"solid":"dashed",d=100===n?"#059669":n>=50?"#2563eb":n>0?"#d97706":"#6b7280";return(0,s.jsxs)("div",{title:"".concat(t.topic," - ").concat(n,"%"),style:{minWidth:"83px",maxWidth:"83px",height:"44px",background:l,borderRadius:"6px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",color:d,fontSize:"9px",fontWeight:"600",cursor:"pointer",transition:"all 0.15s ease",border:"2px ".concat(c," ").concat(o),position:"relative",padding:"4px"},onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-2px) scale(1.03)",e.currentTarget.style.boxShadow="0 3px 8px ".concat(i,"40"),e.currentTarget.style.zIndex="10",e.currentTarget.style.background=100===n?"rgba(16, 185, 129, 0.25)":n>=50?"rgba(59, 130, 246, 0.2)":n>0?"rgba(245, 158, 11, 0.2)":"rgba(0, 0, 0, 0.03)"},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0) scale(1)",e.currentTarget.style.boxShadow="none",e.currentTarget.style.zIndex="1",e.currentTarget.style.background=l},onClick:()=>{let a={...t,chapter_name:e.chapter_name,subject:e.subject,grade:e.grade,curriculum:e.curriculum};console.log("\uD83D\uDE82 Topic clicked:",a),eU(a),console.log("✅ setEditingStudyPlan called")},children:[(0,s.jsxs)("div",{style:{overflow:"hidden",textOverflow:"ellipsis",width:"100%",textAlign:"center",lineHeight:"1.2",marginBottom:"3px",whiteSpace:"nowrap"},children:[r&&(0,s.jsx)("span",{style:{fontSize:"11px",marginRight:"2px"},children:"\uD83C\uDF96️"}),t.topic.substring(0,15)]}),(0,s.jsxs)("div",{style:{fontSize:"10px",fontWeight:"700",color:d},children:[n,"%"]})]},t.unique_id)})}),(0,s.jsxs)("div",{style:{minWidth:"55px",height:"44px",background:r?"rgba(16, 185, 129, 0.15)":"rgba(0, 0, 0, 0.05)",borderRadius:"6px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",border:r?"2px solid #10b981":"2px dashed rgba(0, 0, 0, 0.2)"},children:[(0,s.jsxs)("div",{style:{fontSize:"14px",fontWeight:"800",color:r?"#10b981":"#374151",lineHeight:"1"},children:[i,"%"]}),(0,s.jsxs)("div",{style:{fontSize:"9px",color:"#6b7280",fontWeight:"600",marginTop:"3px"},children:[a,"/",n]})]})]},e.chapter_id)})})]}),!o&&(0,s.jsxs)("div",{className:"empty-state",children:[(0,s.jsx)(g,{}),(0,s.jsx)("h3",{children:"Select a Subject"}),(0,s.jsx)("p",{children:"Choose a subject from the filters above to view chapter progress"})]})]}),tl&&(0,s.jsx)("footer",{className:"main-content-footer",children:(0,s.jsxs)("div",{className:"footer-content",children:[(0,s.jsx)("span",{className:"footer-text",children:"\xa9 2025 ProdyJEE - Peepal Prodigy School"}),(0,s.jsx)("button",{className:"footer-voice-assistant",onClick:()=>{alert("Voice Assistant AI - Coming Soon!\nCapture notes, to-dos, and voice commands.")},title:"AI Voice Assistant",children:(0,s.jsx)(W,{})})]})})]})]}),tc&&(0,s.jsx)("div",{className:"settings-panel-overlay",onClick:()=>td(!1),children:(0,s.jsxs)("div",{className:"settings-panel-compact",onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"settings-panel-header-compact",children:[(0,s.jsxs)("h3",{children:[(0,s.jsx)(A,{})," Settings"]}),(0,s.jsx)("button",{className:"settings-close-btn",onClick:()=>td(!1),children:(0,s.jsx)(q,{})})]}),(0,s.jsxs)("div",{className:"settings-body-compact",children:[(0,s.jsxs)("div",{className:"settings-tabs-vertical",children:[(0,s.jsxs)("button",{className:"settings-tab-vertical ".concat("visibility"===tm?"active":""),onClick:()=>th("visibility"),children:[(0,s.jsx)(f,{}),(0,s.jsx)("span",{children:"Visibility"})]}),(0,s.jsxs)("button",{className:"settings-tab-vertical ".concat("container"===tm?"active":""),onClick:()=>th("container"),children:[(0,s.jsx)(A,{}),(0,s.jsx)("span",{children:"Container"})]}),(0,s.jsxs)("button",{className:"settings-tab-vertical ".concat("appearance"===tm?"active":""),onClick:()=>th("appearance"),children:[(0,s.jsx)(A,{}),(0,s.jsx)("span",{children:"Appearance"})]}),(0,s.jsxs)("button",{className:"settings-tab-vertical ".concat("audio"===tm?"active":""),onClick:()=>th("audio"),children:[(0,s.jsx)(j,{}),(0,s.jsx)("span",{children:"Audio"})]})]}),(0,s.jsxs)("div",{className:"settings-content-compact",children:["visibility"===tm&&(0,s.jsx)("div",{className:"settings-section-compact",children:(0,s.jsxs)("div",{className:"settings-toggle-group-compact",children:[(0,s.jsxs)("div",{className:"settings-toggle-item-compact",children:[(0,s.jsx)(f,{}),(0,s.jsx)("span",{children:"Top Header"}),(0,s.jsxs)("label",{className:"toggle-switch-mini",children:[(0,s.jsx)("input",{type:"checkbox",checked:tt,onChange:()=>ta(!tt)}),(0,s.jsx)("span",{className:"toggle-slider-mini"})]})]}),(0,s.jsxs)("div",{className:"settings-toggle-item-compact",children:[(0,s.jsx)(R,{}),(0,s.jsx)("span",{children:"Navigation Bar"}),(0,s.jsxs)("label",{className:"toggle-switch-mini",children:[(0,s.jsx)("input",{type:"checkbox",checked:ts,onChange:()=>tn(!ts)}),(0,s.jsx)("span",{className:"toggle-slider-mini"})]})]}),(0,s.jsxs)("div",{className:"settings-toggle-item-compact",children:[(0,s.jsx)(I,{}),(0,s.jsx)("span",{children:"Left Sidebar"}),(0,s.jsxs)("label",{className:"toggle-switch-mini",children:[(0,s.jsx)("input",{type:"checkbox",checked:ti,onChange:()=>tr(!ti)}),(0,s.jsx)("span",{className:"toggle-slider-mini"})]})]}),(0,s.jsxs)("div",{className:"settings-toggle-item-compact",children:[(0,s.jsx)(y,{}),(0,s.jsx)("span",{children:"Footer"}),(0,s.jsxs)("label",{className:"toggle-switch-mini",children:[(0,s.jsx)("input",{type:"checkbox",checked:tl,onChange:()=>to(!tl)}),(0,s.jsx)("span",{className:"toggle-slider-mini"})]})]}),(0,s.jsxs)("div",{className:"settings-toggle-item-compact",children:[(0,s.jsx)(R,{}),(0,s.jsx)("span",{children:"Navigation Hint"}),(0,s.jsxs)("label",{className:"toggle-switch-mini",children:[(0,s.jsx)("input",{type:"checkbox",checked:tp,onChange:()=>tu(!tp)}),(0,s.jsx)("span",{className:"toggle-slider-mini"})]})]})]})}),"container"===tm&&(0,s.jsxs)("div",{className:"settings-section-compact",children:[(0,s.jsxs)("div",{className:"settings-form-group-compact",children:[(0,s.jsx)("label",{children:"Background Color"}),(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[(0,s.jsx)("input",{type:"color",value:tg,onChange:e=>tx(e.target.value),style:{width:"60px",height:"40px",cursor:"pointer",border:"2px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px"}}),(0,s.jsx)("input",{type:"text",value:tg,onChange:e=>tx(e.target.value),style:{flex:1,padding:"8px",backgroundColor:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"6px",color:"white"}})]})]}),(0,s.jsxs)("div",{className:"settings-form-group-compact",children:[(0,s.jsxs)("label",{style:{display:"flex",justifyContent:"space-between"},children:[(0,s.jsx)("span",{children:"Transparency"}),(0,s.jsxs)("span",{style:{color:"rgba(255, 255, 255, 0.7)"},children:[tb,"%"]})]}),(0,s.jsx)("input",{type:"range",min:"0",max:"100",value:tb,onChange:e=>tf(Number(e.target.value)),style:{width:"100%",cursor:"pointer"}})]}),(0,s.jsxs)("div",{className:"settings-form-group-compact",children:[(0,s.jsxs)("label",{style:{display:"flex",justifyContent:"space-between"},children:[(0,s.jsx)("span",{children:"Blur Effect"}),(0,s.jsxs)("span",{style:{color:"rgba(255, 255, 255, 0.7)"},children:[tj,"px"]})]}),(0,s.jsx)("input",{type:"range",min:"0",max:"30",value:tj,onChange:e=>tv(Number(e.target.value)),style:{width:"100%",cursor:"pointer"}})]}),(0,s.jsxs)("div",{className:"settings-form-group-compact",children:[(0,s.jsxs)("label",{style:{display:"flex",justifyContent:"space-between"},children:[(0,s.jsx)("span",{children:"Elevation (Shadow)"}),(0,s.jsxs)("span",{style:{color:"rgba(255, 255, 255, 0.7)"},children:[ty,"px"]})]}),(0,s.jsx)("input",{type:"range",min:"0",max:"50",value:ty,onChange:e=>tN(Number(e.target.value)),style:{width:"100%",cursor:"pointer"}})]}),(0,s.jsxs)("div",{className:"settings-form-group-compact",children:[(0,s.jsxs)("label",{style:{display:"flex",justifyContent:"space-between"},children:[(0,s.jsx)("span",{children:"Border Thickness"}),(0,s.jsxs)("span",{style:{color:"rgba(255, 255, 255, 0.7)"},children:[tw,"px"]})]}),(0,s.jsx)("input",{type:"range",min:"0",max:"10",value:tw,onChange:e=>tk(Number(e.target.value)),style:{width:"100%",cursor:"pointer"}})]})]}),"audio"===tm&&(0,s.jsx)("div",{className:"settings-section-compact",children:(0,s.jsxs)("div",{className:"settings-toggle-group-compact",children:[(0,s.jsxs)("div",{className:"settings-toggle-item-compact",children:[(0,s.jsx)(j,{}),(0,s.jsx)("span",{children:"Play Music"}),(0,s.jsxs)("label",{className:"toggle-switch-mini",children:[(0,s.jsx)("input",{type:"checkbox",checked:eH,onChange:()=>eJ(!eH)}),(0,s.jsx)("span",{className:"toggle-slider-mini"})]})]}),(0,s.jsxs)("div",{className:"settings-form-group-compact",children:[(0,s.jsxs)("label",{children:[(0,s.jsx)(j,{})," Music Track"]}),(0,s.jsxs)("select",{value:eA,onChange:e=>eR(e.target.value),children:[(0,s.jsx)("option",{value:"zen-mixed",children:"Zen Mixed"}),(0,s.jsx)("option",{value:"zen-forest",children:"Zen Forest"}),(0,s.jsx)("option",{value:"zen-rain",children:"Zen Rain"}),(0,s.jsx)("option",{value:"zen-wind",children:"Zen Wind"}),(0,s.jsx)("option",{value:"zen-birds",children:"Zen Birds"}),(0,s.jsx)("option",{value:"zen-water",children:"Zen Water"}),(0,s.jsx)("option",{value:"meditation",children:"Meditation"}),(0,s.jsx)("option",{value:"flute",children:"Flute"}),(0,s.jsx)("option",{value:"nature",children:"Nature"}),(0,s.jsx)("option",{value:"none",children:"None"})]})]})]})}),"appearance"===tm&&(0,s.jsxs)("div",{className:"settings-section-compact",children:[(0,s.jsxs)("div",{className:"settings-form-group-compact",children:[(0,s.jsxs)("label",{children:[(0,s.jsx)(A,{})," Color Theme"]}),(0,s.jsx)("div",{className:"theme-buttons-compact",children:[{value:"light",label:"Light",icon:"☀️"},{value:"dark",label:"Dark",icon:"\uD83C\uDF19"},{value:"transparent",label:"Transparent",icon:"✨"}].map(e=>(0,s.jsxs)("button",{className:"theme-btn-compact ".concat(ej===e.value?"active":""),onClick:()=>ev(e.value),children:[(0,s.jsx)("span",{children:e.icon})," ",e.label]},e.value))})]}),(0,s.jsxs)("div",{className:"settings-form-group-compact",children:[(0,s.jsxs)("label",{children:[(0,s.jsx)(A,{})," Background Theme"]}),(0,s.jsx)("div",{className:"theme-buttons-compact",children:["nature","sunset","mountains","ocean","forest","space"].map(e=>(0,s.jsx)("button",{className:"theme-btn-compact ".concat(eb===e?"active":""),onClick:()=>ef(e),children:e},e))})]}),(0,s.jsx)("div",{className:"settings-form-group-compact",children:(0,s.jsxs)("button",{className:"settings-action-btn-compact",onClick:()=>{eB(!0),td(!1)},children:[(0,s.jsx)(A,{})," Advanced Backgrounds"]})})]})]})]}),(0,s.jsx)("div",{className:"settings-panel-footer-compact",children:(0,s.jsx)("button",{className:"settings-reset-btn-compact",onClick:()=>{ta(!0),tn(!0),tr(!0),to(!0),tu(!0)},children:"Reset to Default"})})]})}),P&&(0,s.jsx)("div",{className:"modal-overlay",children:(0,s.jsxs)("div",{className:"task-modal glass-card",children:[(0,s.jsxs)("div",{className:"modal-header",children:[(0,s.jsx)("h2",{children:P.title}),(0,s.jsx)("button",{className:"close-btn",onClick:()=>E(null),children:"\xd7"})]}),(0,s.jsxs)("div",{className:"modal-body",children:[(0,s.jsx)("div",{className:"task-details",children:(0,s.jsxs)("form",{onSubmit:async e=>{e.preventDefault();let t=new FormData(e.target),a=eL.map(e=>e.unique_id===P.unique_id?{...e,topic:t.get("title"),notes:t.get("description"),progress_percentage:parseInt(t.get("progress"))}:e);eI(a),localStorage.setItem("study-plans-data",JSON.stringify(a)),E(null),fetchPlans()},children:[(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Title"}),(0,s.jsx)("input",{name:"title",defaultValue:P.title,required:!0})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Description"}),(0,s.jsx)("textarea",{name:"description",defaultValue:P.description,rows:"3"})]}),(0,s.jsxs)("div",{className:"form-row",children:[(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Priority"}),(0,s.jsxs)("select",{name:"priority",defaultValue:P.priority,children:[(0,s.jsx)("option",{children:"Low"}),(0,s.jsx)("option",{children:"Medium"}),(0,s.jsx)("option",{children:"High"}),(0,s.jsx)("option",{children:"Important"})]})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Progress (%)"}),(0,s.jsx)("input",{name:"progress",type:"number",min:"0",max:"100",defaultValue:P.progress})]})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Due Date"}),(0,s.jsx)(m.Ay,{selected:eg,onChange:ex,dateFormat:"yyyy-MM-dd",placeholderText:"Select due date"})]}),(0,s.jsxs)("div",{className:"form-actions",children:[(0,s.jsx)("button",{type:"submit",className:"save-btn",children:"Save Changes"}),(0,s.jsx)("button",{type:"button",onClick:()=>E(null),className:"cancel-btn",children:"Cancel"})]})]})}),(0,s.jsxs)("div",{className:"task-sections",children:[(0,s.jsxs)("div",{className:"section",children:[(0,s.jsx)("h4",{children:"Subtasks"}),(0,s.jsx)("div",{className:"subtasks-list",children:el.map(e=>(0,s.jsxs)("div",{className:"subtask-item",children:[(0,s.jsx)("input",{type:"checkbox",checked:e.completed,onChange:async t=>{await fetch("/api/subtasks",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({subtask_id:e.subtask_id,completed:t.target.checked})});let a=await fetch("/api/subtasks?task_id=".concat(P.task_id));eo(await a.json())}}),(0,s.jsx)("span",{className:e.completed?"completed":"",children:e.title})]},e.subtask_id))}),(0,s.jsx)("form",{onSubmit:async e=>{e.preventDefault();let t=new FormData(e.target);await fetch("/api/subtasks",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({task_id:P.task_id,title:t.get("subtask")})}),e.target.reset();let a=await fetch("/api/subtasks?task_id=".concat(P.task_id));eo(await a.json())},children:(0,s.jsxs)("div",{className:"add-item",children:[(0,s.jsx)("input",{name:"subtask",placeholder:"Add a subtask...",required:!0}),(0,s.jsx)("button",{type:"submit",children:"+"})]})})]}),(0,s.jsxs)("div",{className:"section",children:[(0,s.jsx)("h4",{children:"Comments"}),(0,s.jsx)("div",{className:"comments-list",children:ei.map(e=>(0,s.jsxs)("div",{className:"comment-item",children:[(0,s.jsx)("p",{children:e.content}),(0,s.jsx)("small",{children:new Date(e.created_at).toLocaleString()})]},e.comment_id))}),(0,s.jsx)("form",{onSubmit:async e=>{e.preventDefault();let t=new FormData(e.target);await fetch("/api/comments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({task_id:P.task_id,content:t.get("comment")})}),e.target.reset();let a=await fetch("/api/comments?task_id=".concat(P.task_id));er(await a.json())},children:(0,s.jsxs)("div",{className:"add-item",children:[(0,s.jsx)("textarea",{name:"comment",placeholder:"Add a comment...",required:!0,rows:"2"}),(0,s.jsx)("button",{type:"submit",children:"Comment"})]})})]})]})]})]})}),w&&console.log("\uD83D\uDCCB Chapter modal should render, editingChapter:",w.chapter_name),w&&(0,s.jsx)("div",{className:"modal-overlay",onClick:()=>{k(null),T(null)},children:(0,s.jsxs)("div",{className:"chapter-modal-redesigned glass-card",onClick:e=>e.stopPropagation(),style:{borderLeft:"3px dashed ".concat(tA(w.aggregatedStatus))},children:[(0,s.jsxs)("div",{className:"modal-header-compact",children:[(0,s.jsxs)("div",{className:"header-title-row",children:[(0,s.jsxs)("h2",{className:"modal-chapter-title",children:[w.chapter_name,M&&(0,s.jsxs)("span",{style:{marginLeft:"12px",padding:"4px 12px",borderRadius:"12px",fontSize:"11px",fontWeight:"600",backgroundColor:"saved"===M?"#10b98120":"saving"===M?"#f59e0b20":"#ef444420",color:"saved"===M?"#059669":"saving"===M?"#d97706":"#dc2626",border:"1px solid ".concat("saved"===M?"#10b981":"saving"===M?"#f59e0b":"#ef4444"),animation:"saving"===M?"pulse 1s infinite":"none"},children:["saved"===M&&"✅ Auto-Saved","saving"===M&&"\uD83D\uDCBE Saving...","error"===M&&"❌ Save Failed",J&&"saved"===M&&(0,s.jsx)("span",{style:{marginLeft:"6px",fontSize:"10px",opacity:.7},children:new Date(J).toLocaleTimeString()})]})]}),(0,s.jsx)("button",{className:"close-btn-compact",onClick:()=>{k(null),T(null)},children:"\xd7"})]}),(0,s.jsxs)("div",{className:"header-three-columns",children:[(0,s.jsxs)("div",{className:"header-column calendar-column",children:[(0,s.jsx)("h3",{className:"column-header",children:"\uD83D\uDCC5 Target Date"}),(0,s.jsxs)("div",{className:"calendar-input-wrapper",children:[(0,s.jsx)("input",{type:"date",value:w.studyPlans&&w.studyPlans.length>0&&w.studyPlans[0].target_date?new Date(w.studyPlans[0].target_date).toISOString().split("T")[0]:"",onChange:e=>{let t=e.target.value,a=eL.map(e=>e.chapter_id===w.chapter_id?{...e,target_date:t}:e);saveToLocalStorage(a,"✅ Auto-saved: Target date updated");let s=[...K(a,"In Queue"),...K(a,"To Do"),...K(a,"In Progress"),...K(a,"Done"),...K(a,"Closed")].find(e=>e.chapter_id===w.chapter_id);s&&k(s)},className:"calendar-input-large"}),(0,s.jsxs)("div",{className:"calendar-info",children:[(0,s.jsxs)("p",{className:"calendar-status",children:["Status: ",(0,s.jsx)("span",{style:{color:tA(w.aggregatedStatus),fontWeight:"bold"},children:w.aggregatedStatus})]}),w.studyPlans&&w.studyPlans.length>0&&w.studyPlans[0].target_date&&(0,s.jsx)("p",{className:"calendar-days-left",children:(()=>{let e=Math.ceil((new Date(w.studyPlans[0].target_date)-new Date)/864e5);return e>0?"".concat(e," days left"):0===e?"Due today!":"".concat(Math.abs(e)," days overdue")})()})]})]})]}),(0,s.jsxs)("div",{className:"header-column stage-column",children:[(0,s.jsx)("h3",{className:"column-header",children:"Stage"}),(0,s.jsx)("div",{className:"control-chips-vertical",children:["Initiated","Skimmed","Grasped","Practiced","Revised","Mastered"].map(e=>(0,s.jsx)("button",{className:"chip-compact ".concat(w.aggregatedStage===e?"active":""),style:{backgroundColor:w.aggregatedStage===e?"#6366f1":"transparent",color:w.aggregatedStage===e?"white":"#6b7280",borderColor:"#6366f1"},onClick:()=>{let t=eL.map(t=>t.chapter_id===w.chapter_id?{...t,learning_stage:e}:t);eI(t),localStorage.setItem("study-plans-data",JSON.stringify(t));let a=[...K(t,"In Queue"),...K(t,"To Do"),...K(t,"In Progress"),...K(t,"Done"),...K(t,"Closed")].find(e=>e.chapter_id===w.chapter_id);a&&k(a)},children:e},e))})]}),(0,s.jsxs)("div",{className:"header-column proficiency-column",children:[(0,s.jsx)("h3",{className:"column-header",children:"Proficiency"}),(0,s.jsx)("div",{className:"control-chips-vertical",children:[{label:"Novice",value:25},{label:"Competent",value:50},{label:"Expert",value:75},{label:"Master",value:100}].map(e=>(0,s.jsx)("button",{className:"chip-compact ".concat(w.aggregatedProficiency===e.value?"active":""),style:{backgroundColor:w.aggregatedProficiency===e.value?tR(e.value):"transparent",color:w.aggregatedProficiency===e.value?"white":"#6b7280",borderColor:tR(e.value)},onClick:()=>{let t=eL.map(t=>t.chapter_id===w.chapter_id?{...t,learning_proficiency:e.label}:t);eI(t),localStorage.setItem("study-plans-data",JSON.stringify(t));let a=[...K(t,"In Queue"),...K(t,"To Do"),...K(t,"In Progress"),...K(t,"Done"),...K(t,"Closed")].find(e=>e.chapter_id===w.chapter_id);a&&k(a)},children:e.label},e.label))})]}),(0,s.jsxs)("div",{className:"header-column overview-column",children:[(0,s.jsx)("h3",{className:"column-header",children:"Overview"}),(0,s.jsxs)("div",{className:"overview-item",children:[(0,s.jsx)("span",{className:"overview-label",children:"Subject:"}),(0,s.jsx)("span",{className:"overview-value",children:w.subject})]}),(0,s.jsxs)("div",{className:"overview-item",children:[(0,s.jsx)("span",{className:"overview-label",children:"Curriculum:"}),(0,s.jsx)("span",{className:"overview-value",children:w.curriculum})]}),(0,s.jsxs)("div",{className:"overview-item",children:[(0,s.jsx)("span",{className:"overview-label",children:"Grade:"}),(0,s.jsx)("span",{className:"overview-value",children:w.grade})]}),(0,s.jsxs)("div",{className:"overview-item",children:[(0,s.jsx)("span",{className:"overview-label",children:"Topics:"}),(0,s.jsxs)("span",{className:"overview-value",children:[w.totalTopics," (",w.completedTopics," ✓)"]})]})]})]})]}),(0,s.jsxs)("div",{className:"modal-body-scrollable",children:[(0,s.jsxs)("div",{className:"modal-section-compact",children:[(0,s.jsx)("h3",{className:"section-title-compact",children:"� Detailed Topic Progress"}),(0,s.jsx)("div",{className:"topics-list-redesigned",children:w.studyPlans.map((e,t)=>{let a=e.progress_percentage>=20,n=e.progress_percentage>=50,i=e.progress_percentage>=100;return(0,s.jsxs)("div",{className:"topic-card-redesigned",children:[(0,s.jsxs)("div",{className:"topic-header-redesigned",children:[(0,s.jsxs)("span",{className:"topic-number",children:["#",t+1]}),(0,s.jsx)("h4",{className:"topic-name-redesigned",children:e.topic})]}),(0,s.jsxs)("div",{className:"checkbox-tracker",children:[(0,s.jsxs)("label",{className:"checkbox-item",children:[(0,s.jsx)("input",{type:"checkbox",checked:a,onChange:t=>{let a=20*!!t.target.checked,s=w.studyPlans.map(t=>t.unique_id===e.unique_id?{...t,progress_percentage:a}:t);k({...w,studyPlans:s}),saveToLocalStorage(eL.map(t=>t.unique_id===e.unique_id?{...t,progress_percentage:a}:t),"✅ Auto-saved: ".concat(e.topic," marked as ").concat(t.target.checked?"Started":"Not Started"))}}),(0,s.jsx)("span",{className:"checkbox-label",style:{color:a?"#f59e0b":"#9ca3af"},children:"Started (20%)"})]}),(0,s.jsxs)("label",{className:"checkbox-item",children:[(0,s.jsx)("input",{type:"checkbox",checked:n,onChange:t=>{let a=t.target.checked?50:20,s=w.studyPlans.map(t=>t.unique_id===e.unique_id?{...t,progress_percentage:a}:t);k({...w,studyPlans:s}),saveToLocalStorage(eL.map(t=>t.unique_id===e.unique_id?{...t,progress_percentage:a}:t),"✅ Auto-saved: ".concat(e.topic," marked as ").concat(t.target.checked?"Studied":"Started"))}}),(0,s.jsx)("span",{className:"checkbox-label",style:{color:n?"#3b82f6":"#9ca3af"},children:"Studied (50%)"})]}),(0,s.jsxs)("label",{className:"checkbox-item",children:[(0,s.jsx)("input",{type:"checkbox",checked:i,onChange:t=>{let a=t.target.checked?100:50,s=w.studyPlans.map(t=>t.unique_id===e.unique_id?{...t,progress_percentage:a}:t);k({...w,studyPlans:s}),saveToLocalStorage(eL.map(t=>t.unique_id===e.unique_id?{...t,progress_percentage:a}:t),"✅ Auto-saved: ".concat(e.topic," marked as ").concat(t.target.checked?"Practiced (DONE!)":"Studied"))}}),(0,s.jsx)("span",{className:"checkbox-label",style:{color:i?"#10b981":"#9ca3af"},children:"Practiced (100%)"})]})]}),(0,s.jsxs)("div",{className:"progress-bar-container-redesigned",children:[(0,s.jsx)("div",{className:"progress-bar-fill-redesigned",style:{width:"".concat(e.progress_percentage,"%"),backgroundColor:100===e.progress_percentage?"#10b981":"#f59e0b"}}),(0,s.jsxs)("span",{className:"progress-percentage-label",children:[e.progress_percentage,"%"]})]})]},e.unique_id)})})]}),(0,s.jsxs)("div",{className:"modal-section-redesigned notes-section-redesigned",children:[(0,s.jsx)("h3",{className:"section-title-redesigned",children:"\uD83D\uDCDD Notes - Powered by Shivo \uD83C\uDF99️"}),(0,s.jsxs)("div",{className:"voice-notes-container",children:[(0,s.jsx)("textarea",{placeholder:"Add notes for this chapter... (Tip: Use voice recording for hands-free note-taking!)",rows:"4",className:"notes-textarea-redesigned",value:w.notes||"",onChange:e=>{k({...w,notes:e.target.value});let t=eL.map(t=>t.chapter_id===w.chapter_id?{...t,chapter_notes:e.target.value}:t);eI(t),localStorage.setItem("study-plans-data",JSON.stringify(t))}}),(0,s.jsxs)("div",{className:"voice-controls-bar",children:[(0,s.jsx)("button",{className:"voice-record-btn",onClick:e=>{if(!("webkitSpeechRecognition"in window))return void alert("Voice recognition not supported in your browser. Please try Chrome.");let t=new window.webkitSpeechRecognition;t.lang="en-US",t.continuous=!1,t.interimResults=!1,t.onstart=()=>{console.log("Shivo is listening..."),e.target.textContent="\uD83D\uDD34 Recording...",e.target.style.backgroundColor="#ef4444"},t.onresult=e=>{let t=e.results[0][0].transcript,a=new Date().toLocaleString(),s="\n[".concat(a,"] Shivo: ").concat(t),n=(w.notes||"")+s;k({...w,notes:n});let i=eL.map(e=>e.chapter_id===w.chapter_id?{...e,chapter_notes:n}:e);eI(i),localStorage.setItem("study-plans-data",JSON.stringify(i))},t.onerror=e=>{console.error("Speech recognition error:",e.error),alert("Shivo encountered an error: ".concat(e.error))},t.onend=()=>{console.log("Shivo stopped listening."),e.target.textContent="\uD83C\uDF99️ Record Voice Note",e.target.style.backgroundColor=""},t.start()},children:"\uD83C\uDF99️ Record Voice Note"}),(0,s.jsx)("span",{className:"shivo-label",children:"Powered by Shivo Assistant"})]})]})]})]})]})}),G&&(0,s.jsx)("div",{className:"modal",children:(0,s.jsxs)("div",{className:"modal-content",children:[(0,s.jsx)("h3",{children:"Add New Task"}),(0,s.jsxs)("form",{onSubmit:async e=>{e.preventDefault();let t=new FormData(e.target),a=tO.find(e=>e.id===G),s=[...eL,{unique_id:"TASK-".concat(Date.now()),curriculum:(null==o?void 0:o.name)||"JEE",grade:12,subject:(null==o?void 0:o.name)||"General",chapter_id:"CH-".concat(Date.now()),chapter_name:"New Chapter",topic_id:"T-".concat(Date.now()),topic:t.get("title"),target_date:null,learning_status:a.status,learning_stage:"Initiated",learning_proficiency:"Novice",progress_percentage:0,notes:t.get("description")}];eI(s),localStorage.setItem("study-plans-data",JSON.stringify(s)),U(null),fetchPlans()},children:[(0,s.jsx)("input",{name:"title",placeholder:"Task title",required:!0}),(0,s.jsx)("textarea",{name:"description",placeholder:"Description"}),(0,s.jsxs)("select",{name:"priority",children:[(0,s.jsx)("option",{children:"Low"}),(0,s.jsx)("option",{children:"Medium"}),(0,s.jsx)("option",{children:"High"}),(0,s.jsx)("option",{children:"Important"})]}),(0,s.jsx)("button",{type:"submit",children:"Add Task"}),(0,s.jsx)("button",{type:"button",onClick:()=>U(null),children:"Cancel"})]})]})}),eq&&(0,s.jsx)("div",{className:"weather-overlay",children:Array.from({length:50},(e,t)=>(0,s.jsx)("div",{className:"raindrop",style:{left:"".concat(100*Math.random(),"%"),animationDelay:"".concat(2*Math.random(),"s"),animationDuration:"".concat(1+Math.random(),"s")}},t))}),"none"!==eA&&(0,s.jsxs)("audio",{ref:e=>{e&&(e.volume=eF,eH?e.play().catch(t=>{console.log("Audio play failed:",t);let a=()=>{e.play().catch(()=>{}),document.removeEventListener("click",a)};document.addEventListener("click",a)}):e.pause())},loop:!0,autoPlay:!0,preload:"auto",children:[(0,s.jsx)("source",{src:"zen-mixed"===eA?"https://www.soundjay.com/misc/sounds/ambient-nature.wav":"zen-forest"===eA?"https://www.soundjay.com/misc/sounds/forest-sounds.wav":"zen-rain"===eA?"https://www.soundjay.com/misc/sounds/rain-03.wav":"zen-wind"===eA?"https://www.soundjay.com/misc/sounds/wind.wav":"zen-birds"===eA?"https://www.soundjay.com/misc/sounds/birds-01.wav":"zen-water"===eA?"https://www.soundjay.com/misc/sounds/water-stream.wav":"meditation"===eA?"https://www.soundjay.com/misc/sounds/bell-ringing-05.wav":"flute"===eA?"https://www.soundjay.com/misc/sounds/flute.wav":"https://www.soundjay.com/misc/sounds/nature-sounds.wav",type:"audio/wav"}),(0,s.jsx)("source",{src:"zen-mixed"===eA?"https://www.soundjay.com/misc/sounds/ambient-nature.mp3":"zen-forest"===eA?"https://www.soundjay.com/misc/sounds/forest-sounds.mp3":"zen-rain"===eA?"https://www.soundjay.com/misc/sounds/rain-03.mp3":"zen-wind"===eA?"https://www.soundjay.com/misc/sounds/wind.mp3":"zen-birds"===eA?"https://www.soundjay.com/misc/sounds/birds-01.mp3":"zen-water"===eA?"https://www.soundjay.com/misc/sounds/water-stream.mp3":"meditation"===eA?"https://www.soundjay.com/misc/sounds/bell-ringing-05.mp3":"flute"===eA?"https://www.soundjay.com/misc/sounds/flute.mp3":"https://www.soundjay.com/misc/sounds/nature-sounds.mp3",type:"audio/mpeg"}),"Your browser does not support the audio element."]},eA),eK&&console.log("\uD83D\uDCDD Modal should render, editingStudyPlan:",eK),eK&&(0,s.jsx)("div",{className:"modal-overlay",children:(0,s.jsxs)("div",{className:"study-plan-modal glass-card",children:[(0,s.jsxs)("div",{className:"modal-header",children:[(0,s.jsxs)("div",{className:"modal-title-section",children:[(0,s.jsx)("h2",{children:eK.topic}),(0,s.jsxs)("div",{className:"study-plan-details-popup",children:[(0,s.jsxs)("div",{className:"detail-item",children:[(0,s.jsx)("span",{className:"detail-label",children:"Chapter:"}),(0,s.jsx)("span",{className:"detail-value",children:eK.chapter_name})]}),(0,s.jsxs)("div",{className:"detail-item",children:[(0,s.jsx)("span",{className:"detail-label",children:"Subject:"}),(0,s.jsx)("span",{className:"detail-value",children:eK.subject})]}),(0,s.jsxs)("div",{className:"detail-item",children:[(0,s.jsx)("span",{className:"detail-label",children:"Grade:"}),(0,s.jsx)("span",{className:"detail-value",children:eK.grade})]}),(0,s.jsxs)("div",{className:"detail-item",children:[(0,s.jsx)("span",{className:"detail-label",children:"Curriculum:"}),(0,s.jsx)("span",{className:"detail-value",children:eK.curriculum})]})]}),(0,s.jsx)("span",{className:"modal-status-badge",style:{backgroundColor:"".concat(tA(eK.learning_status),"20"),color:tA(eK.learning_status),borderColor:tA(eK.learning_status)},children:eK.learning_status})]}),(0,s.jsx)("button",{className:"close-btn",onClick:()=>eU(null),children:"\xd7"})]}),(0,s.jsx)("div",{className:"modal-body",children:(0,s.jsxs)("form",{onSubmit:async e=>{e.preventDefault();let t=new FormData(e.target);for(let e of eZ)await fetch("/api/subtopics/".concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:e.completed?"Completed":"Not Started"})});let a=eZ.filter(e=>e.completed).length,s=eZ.length,n=s>0?Math.round(a/s*100):0;await fetch("/api/study-plan/".concat(eK.unique_id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({progress_percentage:n,notes:t.get("notes")})});let i=tW.map(e=>e.unique_id===eK.unique_id?{...e,progress_percentage:n,notes:t.get("notes")}:e);tB(i),localStorage.setItem("study-plans-data",JSON.stringify(i)),eU(null),eX([]),e0(""),e2([]),fetchStudyPlans()},children:[(0,s.jsxs)("div",{className:"form-group primary-section",children:[(0,s.jsx)("label",{className:"form-label-icon",children:"� Chapter Sub-Topics"}),(0,s.jsxs)("div",{className:"progress-tracker",children:[(0,s.jsxs)("div",{className:"progress-header",children:[(0,s.jsx)("span",{className:"progress-title",children:"Overall Progress"}),(0,s.jsxs)("span",{className:"progress-percentage",children:[eZ.length>0?Math.round(eZ.filter(e=>e.completed).length/eZ.length*100):0,"%"]})]}),(0,s.jsx)("div",{className:"progress-bar-container",children:(0,s.jsx)("div",{className:"progress-bar-fill",style:{width:"".concat(eZ.length>0?Math.round(eZ.filter(e=>e.completed).length/eZ.length*100):0,"%")}})}),(0,s.jsxs)("div",{className:"progress-stats",children:[eZ.filter(e=>e.completed).length," of ",eZ.length," topics completed"]})]}),(0,s.jsxs)("div",{className:"subtopics-modern",children:[eZ.map((e,t)=>(0,s.jsxs)("div",{className:"subtopic-item ".concat(e.completed?"completed":"pending"),children:[(0,s.jsxs)("div",{className:"subtopic-content",children:[(0,s.jsx)("div",{className:"subtopic-icon",children:e.completed?"✓":"○"}),(0,s.jsx)("span",{className:"subtopic-text",children:e.text})]}),(0,s.jsxs)("div",{className:"subtopic-actions",children:[(0,s.jsx)("button",{type:"button",className:"status-btn ".concat(e.completed?"completed":"pending"),onClick:()=>{let e=[...eZ];e[t].completed=!e[t].completed,eX(e)},children:e.completed?"Mark Incomplete":"Mark Complete"}),(0,s.jsx)("button",{type:"button",className:"remove-subtopic-btn",onClick:()=>{eX(eZ.filter((e,a)=>a!==t))},children:"\xd7"})]})]},e.id)),(0,s.jsxs)("div",{className:"add-subtopic-modern",children:[(0,s.jsx)("input",{type:"text",value:e$,onChange:e=>e0(e.target.value),placeholder:"Add new learning topic...",onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),e$.trim()&&(eX([...eZ,{id:Date.now(),text:e$.trim(),completed:!1}]),e0("")))}}),(0,s.jsx)("button",{type:"button",className:"add-subtopic-btn-modern",onClick:()=>{e$.trim()&&(eX([...eZ,{id:Date.now(),text:e$.trim(),completed:!1}]),e0(""))},children:"+ Add Topic"})]})]})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{className:"form-label-icon",children:"\uD83D\uDCDD Notes"}),(0,s.jsx)("textarea",{name:"notes",defaultValue:eK.notes,rows:"4",placeholder:"Add your study notes, insights, or reminders here..."})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{className:"form-label-icon",children:"�️ Voice Notes"}),(0,s.jsxs)("div",{className:"voice-logging",children:[(0,s.jsx)("div",{className:"voice-controls",children:e5?(0,s.jsx)("button",{type:"button",className:"record-btn stop",onClick:()=>{e6&&e5&&(e6.stop(),e4(!1),e3(null))},children:"⏹️ Stop Recording"}):(0,s.jsx)("button",{type:"button",className:"record-btn recording",onClick:tU,children:"�️ Start Recording"})}),(0,s.jsx)("div",{className:"voice-recordings",children:0===e1.length?(0,s.jsx)("p",{children:"No voice recordings yet"}):e1.map(e=>(0,s.jsxs)("div",{className:"voice-recording-item",children:[(0,s.jsxs)("span",{children:["Recording ",new Date(e.timestamp).toLocaleTimeString()]}),(0,s.jsxs)("div",{className:"recording-controls",children:[(0,s.jsx)("button",{type:"button",onClick:()=>{new Audio(e.url).play()},children:"▶️"}),(0,s.jsx)("button",{type:"button",onClick:()=>{var t;return t=e.id,void e2(e1.filter(e=>e.id!==t))},children:"\uD83D\uDDD1️"})]})]},e.id))})]})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{className:"form-label-icon",children:"[CHART] Overall Status & Date"}),(0,s.jsxs)("div",{className:"status-date-section",children:[(0,s.jsxs)("div",{className:"status-info",children:[(0,s.jsx)("span",{className:"status-label",children:"Current Status:"}),(0,s.jsx)("span",{className:"status-value",children:eK.learning_status})]}),(0,s.jsxs)("div",{className:"date-info",children:[(0,s.jsx)("span",{className:"date-label",children:"Target Date:"}),(0,s.jsx)("span",{className:"date-value",children:eK.target_date?new Date(eK.target_date).toLocaleDateString():"Not set"})]})]})]}),(0,s.jsxs)("div",{className:"form-actions",children:[(0,s.jsx)("button",{type:"submit",className:"save-btn",children:"\uD83D\uDCBE Save Progress"}),(0,s.jsx)("button",{type:"button",onClick:()=>{eU(null),eX([]),e0(""),e2([])},className:"cancel-btn",children:"❌ Close"})]})]})})]})}),(0,s.jsx)(r,{show:eW,onClose:()=>eB(!1)})]})}},9891:e=>{"use strict";e.exports={rE:"1.0.3"}}},e=>{e.O(0,[701,121,287,17,636,593,792],()=>e(e.s=2936)),_N_E=e.O()}]);