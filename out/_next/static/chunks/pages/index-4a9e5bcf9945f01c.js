(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{2936:(e,s,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(9617)}])},9617:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>Home});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7876),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4232),_package_json__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(9891),_dnd_kit_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(4664),_dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4287),_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3727),react_datepicker__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(6856),react_datepicker_dist_react_datepicker_css__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(863),react_datepicker_dist_react_datepicker_css__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react_datepicker_dist_react_datepicker_css__WEBPACK_IMPORTED_MODULE_6__);let BookOpenIcon=()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("svg",{className:"nav-icon w-4 h-4 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),CheckCircleIcon=()=>_jsx("svg",{className:"nav-icon w-4 h-4 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),ClockIcon=()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("svg",{className:"nav-icon w-4 h-4 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),StarIcon=()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("svg",{className:"nav-icon w-4 h-4 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})}),PaletteIcon=()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("svg",{className:"nav-icon w-4 h-4 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zM21 5a2 2 0 00-2-2h-4a2 2 0 00-2 2v12a4 4 0 004 4h4a2 2 0 002-2V5z"})}),GridIcon=()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("svg",{className:"nav-icon w-4 h-4 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})}),ChevronDownIcon=()=>_jsx("svg",{className:"nav-icon w-4 h-4 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),ChevronRightIcon=()=>_jsx("svg",{className:"nav-icon w-4 h-4 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),CloudIcon=()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("svg",{className:"nav-icon w-4 h-4 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.24 7.76a5.52 5.52 0 00-8.48-3.36A4.5 4.5 0 006 7.5c0 .39-.03.77-.08 1.14A5.5 5.5 0 005.5 12a5.5 5.5 0 0010.41 2.66A4.5 4.5 0 0019.5 12a4.5 4.5 0 00-1.76-3.74z"})}),CogIcon=()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("svg",{className:"nav-icon w-4 h-4 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),MusicIcon=()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("svg",{className:"nav-icon w-4 h-4 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"})}),UserIcon=()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("svg",{className:"nav-icon w-4 h-4 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),HomeIcon=()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("svg",{className:"sidebar-icon-svg",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),BarChartIcon=()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("svg",{className:"sidebar-icon-svg",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),CalendarIcon=()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("svg",{className:"sidebar-icon-svg",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),TimerIcon=()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("svg",{className:"sidebar-icon-svg",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),getProficiencyIcons=e=>{let s=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("svg",{className:"proficiency-star",fill:"currentColor",viewBox:"0 0 20 20",width:"16",height:"16",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),a=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("svg",{className:"proficiency-award",fill:"currentColor",viewBox:"0 0 20 20",width:"20",height:"20",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})});switch(e){case"Novice":default:return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"proficiency-icons",children:s});case"Competent":return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"proficiency-icons",children:[s,s,s]});case"Expert":return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"proficiency-icons",children:[s,s,s,s,s]});case"Master":return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"proficiency-icons",children:a})}},MeditationIcon=()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("svg",{className:"sidebar-icon-svg",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})});function SortableTask(e){let{task:s,onEdit:a,onUpdateProgress:t}=e,{attributes:n,listeners:i,setNodeRef:l,transform:r,transition:c}=useSortable({id:s.task_id}),o={transform:CSS.Translate.toString(r),transition:c},d=s.due_date&&new Date(s.due_date)<new Date,u=s.due_date&&new Date(s.due_date)<new Date(Date.now()+6048e5),h=async e=>{await fetch("/api/tasks/".concat(s.task_id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({progress:e})}),t&&t()};return _jsxs("div",{ref:l,style:o,...n,...i,className:"task-card",onClick:e=>{"range"!==e.target.type&&a(s)},children:[_jsxs("div",{className:"task-header",children:[_jsx("h4",{children:s.title}),_jsx("span",{className:"priority-icon ".concat(s.priority.toLowerCase()),children:"!"})]}),_jsx("p",{children:s.description}),_jsxs("div",{className:"task-meta",children:[_jsxs("div",{className:"progress-container",children:[_jsx("div",{className:"progress-bar",children:_jsx("div",{className:"progress-fill",style:{width:"".concat(s.progress,"%")}})}),_jsx("input",{type:"range",min:"0",max:"100",value:s.progress,onChange:e=>h(parseInt(e.target.value)),className:"progress-slider",title:"Progress: ".concat(s.progress,"%")})]}),_jsxs("span",{className:"progress-text",children:[s.progress,"%"]}),s.due_date&&_jsxs("span",{className:"due-date ".concat(d?"overdue":u?"due-soon":""),children:["Due: ",new Date(s.due_date).toLocaleDateString()]}),_jsx("div",{className:"labels",children:s.TaskLabels.map(e=>_jsx("span",{className:"label",style:{backgroundColor:e.Labels.color},children:e.Labels.name},e.label_id))})]})]})}function SubTopicCard(e){let{subtopic:s,chapterName:a,onEdit:t,onUpdateProgress:n}=e,{attributes:i,listeners:l,setNodeRef:r,transform:c,transition:o}=useSortable({id:"subtopic-".concat(s.subtopic_id)}),d={transform:CSS.Translate.toString(c),transition:o},u="Completed"===s.status,h=s.is_high_priority;return _jsxs("div",{ref:r,style:d,...i,...l,className:"subtopic-card glass-card",onClick:()=>t&&t(s),children:[_jsxs("div",{className:"subtopic-header",children:[_jsxs("div",{className:"subtopic-info",children:[_jsx("h4",{className:"subtopic-title ".concat(u?"completed":""),children:s.name}),_jsxs("div",{className:"subtopic-meta",children:[_jsx("span",{className:"chapter-tag",children:a}),h&&_jsxs("span",{className:"priority-indicator",children:[_jsx(StarIcon,{}),"High Priority"]})]})]}),_jsx("div",{className:"subtopic-status",children:_jsx("input",{type:"checkbox",checked:u,onChange:async e=>{e.stopPropagation();let a=e.target.checked?"Completed":"Not Started";await fetch("/api/subtopics/".concat(s.subtopic_id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:a})}),n&&n()},onClick:e=>e.stopPropagation()})})]}),s.due_date&&_jsxs("div",{className:"subtopic-due-date",children:[_jsx(ClockIcon,{}),_jsxs("span",{children:["Due: ",new Date(s.due_date).toLocaleDateString()]})]})]})}function StudyPlanCard(e){var s;let{studyPlan:a,bucketColor:t,onEdit:n,onUpdateProgress:i,getStatusColor:l,getProficiencyColor:r}=e,{attributes:c,listeners:o,setNodeRef:d,transform:u,transition:h,isDragging:p}=useDraggable({id:"studyplan-".concat(a.unique_id)});return _jsxs("div",{ref:d,style:{...{transform:CSS.Translate.toString(u),transition:p?"none":"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",zIndex:p?1e3:"auto"},border:"none",backgroundColor:"rgba(255, 255, 255, 0.3)",boxShadow:"inset 0 2px 4px rgba(0, 0, 0, 0.1), 0 4px 8px rgba(0, 0, 0, 0.1)"},className:"study-plan-card ".concat(p?"dragging":""),onClick:e=>n(a,e),children:[_jsx("div",{className:"study-plan-header",style:{backgroundColor:"".concat(t,"20")},children:_jsx("div",{className:"study-plan-info",children:_jsx("h4",{className:"study-plan-title ".concat((null==(s=a.learning_status)?void 0:s.toLowerCase().replace(/\s+/g,"-"))||""),...c,...o,style:{cursor:p?"grabbing":"grab"},onClick:e=>{e.stopPropagation()},children:a.topic})})}),_jsx("div",{className:"study-plan-status",children:_jsx("span",{className:"status-badge",style:{backgroundColor:"".concat(l(a.learning_status),"30"),color:l(a.learning_status),border:"none"},children:a.learning_status})}),_jsxs("div",{className:"study-plan-details",children:[_jsxs("div",{className:"detail-row highlight-row",children:[_jsx("span",{className:"detail-label highlight-label",children:"Stage:"}),_jsx("span",{className:"detail-value highlight-value stage-value",children:a.learning_stage})]}),_jsxs("div",{className:"detail-row",children:[_jsx("span",{className:"detail-label",children:"Proficiency:"}),getProficiencyIcons(a.learning_proficiency)]}),_jsxs("div",{className:"detail-row highlight-row",children:[_jsx("span",{className:"detail-label highlight-label",children:"Progress:"}),_jsxs("span",{className:"detail-value highlight-value progress-value",children:[a.progress_percentage,"%"]})]})]}),a.target_date&&_jsxs("div",{className:"study-plan-due-date",children:[_jsx(ClockIcon,{}),_jsxs("span",{children:["Target: ",new Date(a.target_date).toLocaleDateString()]})]}),a.notes&&_jsx("div",{className:"study-plan-notes",children:_jsx("span",{children:a.notes})})]})}let groupStudyPlansByChapter=e=>{let s={};return e.forEach(e=>{let a="".concat(e.chapter_id,"-").concat(e.chapter_name);s[a]||(s[a]={chapter_id:e.chapter_id,chapter_name:e.chapter_name,subject:e.subject,curriculum:e.curriculum,grade:e.grade,studyPlans:[],aggregatedStatus:"In Queue",totalTopics:0,completedTopics:0,inProgressTopics:0,averageProgress:0}),s[a].studyPlans.push(e),s[a].totalTopics++}),Object.values(s).forEach(e=>{let s=e.studyPlans,a={Done:s.filter(e=>"Done"===e.learning_status).length,"In Progress":s.filter(e=>"In Progress"===e.learning_status).length,"To Do":s.filter(e=>"To Do"===e.learning_status).length,"In Queue":s.filter(e=>"In Queue"===e.learning_status).length};e.completedTopics=a.Done,e.inProgressTopics=a["In Progress"],e.averageProgress=Math.round(s.reduce((e,s)=>e+(s.progress_percentage||0),0)/s.length),a["In Progress"]>0?e.aggregatedStatus="In Progress":a["To Do"]>0?e.aggregatedStatus="To Do":a.Done===e.totalTopics?e.aggregatedStatus="Done":e.aggregatedStatus="In Queue"}),Object.values(s)};function ChapterCard(e){let{chapter:s,bucketColor:a,onEdit:t,onUpdateProgress:n,getStatusColor:i,getProficiencyColor:l}=e,{attributes:r,listeners:c,setNodeRef:o,transform:d,transition:u,isDragging:h}=(0,_dnd_kit_core__WEBPACK_IMPORTED_MODULE_3__.PM)({id:"chapter-".concat(s.chapter_id)}),p={transform:_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_5__.Ks.Translate.toString(d),transition:h?"none":"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",zIndex:h?1e3:"auto"},m=Math.round(s.completedTopics/s.totalTopics*100),g=s.studyPlans.map(e=>e.target_date).filter(e=>e).map(e=>new Date(e)).sort((e,s)=>e-s),x=g.length>0?g[0]:null,j=x?Math.ceil((x-new Date)/864e5):null;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{ref:o,style:{...p,border:"none",backgroundColor:"rgba(255, 255, 255, 0.3)",boxShadow:"inset 0 2px 4px rgba(0, 0, 0, 0.1), 0 4px 8px rgba(0, 0, 0, 0.1)"},className:"chapter-card ".concat(h?"dragging":""," ").concat("In Queue"===s.aggregatedStatus?"backlog-card":""),onClick:e=>t(s,e),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"chapter-meta-top",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"meta-id",children:s.chapter_id}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"meta-subject",children:s.subject})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"chapter-header",...r,...c,style:{cursor:h?"grabbing":"grab",background:"In Queue"===s.aggregatedStatus?"#f3f4f6":"linear-gradient(135deg, ".concat(i(s.aggregatedStatus),"20, ").concat(i(s.aggregatedStatus),"60)")},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"chapter-info",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4",{className:"chapter-title",onClick:e=>{e.stopPropagation()},children:s.chapter_name})})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"chapter-content",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"chapter-details-grid ".concat("In Queue"===s.aggregatedStatus?"backlog-grid":""),children:"In Queue"===s.aggregatedStatus?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"detail-row",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"detail-label",children:"Status:"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"status-badge",style:{color:i(s.aggregatedStatus)},children:s.aggregatedStatus}),x&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"target-date-display ".concat(null!==j&&j<0?"overdue":null!==j&&j<=7?"urgent":""),children:null!==j?j<0?"⏰ ".concat(Math.abs(j)," days overdue"):"\uD83D\uDCC5 ".concat(j," days left"):"\uD83D\uDCC5 ".concat(new Date(x).toLocaleDateString())})]}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"detail-row",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"detail-label",children:"Status:"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"status-badge",style:{color:i(s.aggregatedStatus)},children:s.aggregatedStatus})]})}),"In Queue"!==s.aggregatedStatus&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"chapter-stats-grid",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"stat-item",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"stat-label",children:"Topics:"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"stat-value",children:s.totalTopics})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"stat-item",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"stat-label",children:"Completed:"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"stat-value",children:s.completedTopics})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"chapter-progress",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"progress-bar",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"progress-fill",style:{width:"".concat(m,"%"),backgroundColor:100===m?"#10b981":m>0?"#f59e0b":"#6b7280"}})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"progress-info",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"progress-label",children:"Progress"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span",{className:"progress-text",children:[m,"% Complete"]})]})]})]}),x&&"In Queue"!==s.aggregatedStatus&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"chapter-target-date",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"target-date-display ".concat(null!==j&&j<0?"overdue":null!==j&&j<=7?"urgent":""),children:null!==j?j<0?"⏰ ".concat(Math.abs(j)," days overdue"):"\uD83D\uDCC5 ".concat(j," days left"):"\uD83D\uDCC5 ".concat(new Date(x).toLocaleDateString())})})]})]})}function Bucket(e){let{bucket:s,chapters:a,onEditChapter:t,onUpdateProgress:n,getStatusColor:i,getProficiencyColor:l}=e,{setNodeRef:r,isOver:c}=(0,_dnd_kit_core__WEBPACK_IMPORTED_MODULE_3__.zM)({id:s.id}),o=a.filter(e=>e.aggregatedStatus===s.status),d=e=>{switch(e){case"Done":return"bucket-done";case"In Progress":return"bucket-in-progress";case"To Do":return"bucket-todo";case"In Queue":return"bucket-backlog";default:return""}};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{ref:r,className:"bucket bg-gray-50 rounded-lg p-4 min-h-[500px] flex flex-col ".concat(c?"ring-2 ring-blue-500 bg-blue-50":""," ").concat(d(s.status)),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:[s.name," (",o.length,")"]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"space-y-3",children:[o.map(e=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ChapterCard,{chapter:e,bucketColor:i(s.status),onEdit:t,onUpdateProgress:n,getStatusColor:i,getProficiencyColor:l},e.chapter_id)),0===o.length&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex items-center justify-center h-32 text-gray-500 text-sm border-2 border-dashed border-gray-300 rounded-lg",children:["No chapters in ",s.name.toLowerCase()]})]})})]})}function StudyPlanGrid(e){let{subject:s,onUpdate:a,getStatusColor:t,getProficiencyColor:n}=e,[i,l]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]),[r,c]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null),[o,d]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(""),[u,h]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!0),p=[{key:"actions",label:"Actions",width:"120px",type:"actions",readonly:!0},{key:"unique_id",label:"Unique ID",width:"140px",type:"text",readonly:!0},{key:"curriculum",label:"Curriculum",width:"100px",type:"text"},{key:"grade",label:"Grade",width:"70px",type:"number"},{key:"subject",label:"Subject",width:"100px",type:"text"},{key:"chapter_id",label:"Chapter ID",width:"100px",type:"text"},{key:"chapter_name",label:"Chapter Name",width:"180px",type:"text"},{key:"topic_id",label:"Topic ID",width:"100px",type:"text"},{key:"topic",label:"Topic",width:"250px",type:"text"},{key:"target_date",label:"Target Date",width:"120px",type:"date"},{key:"learning_status",label:"Learning Status",width:"130px",type:"select",options:["In Queue","To Do","In Progress","Done","Closed"]},{key:"learning_stage",label:"Learning Stage",width:"130px",type:"select",options:["Initiated","Skimmed","Grasped","Practiced","Revised"]},{key:"learning_proficiency",label:"Proficiency",width:"110px",type:"select",options:["Novice","Competent","Expert","Master"]},{key:"progress_percentage",label:"Progress %",width:"100px",type:"number",min:0,max:100},{key:"notes",label:"Notes",width:"200px",type:"text"}];(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{m()},[s]);let m=async()=>{try{h(!0);let e=await fetch("/api/study-plan"),a=await e.json(),t=s?a.filter(e=>e.subject.toLowerCase()===s.name.toLowerCase()):a;l(t)}catch(e){console.error("Failed to fetch study plans:",e)}finally{h(!1)}},g=(e,s,a)=>{c({uniqueId:e,columnKey:s}),d(a||"")},x=async()=>{if(r){try{let e=p.find(e=>e.key===r.columnKey),s=o;"number"===e.type?s=parseInt(o)||0:"date"===e.type&&(s=o?new Date(o).toISOString():null);let t={[r.columnKey]:s};await fetch("/api/study-plan/".concat(r.uniqueId),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),l(e=>e.map(e=>e.unique_id===r.uniqueId?{...e,[r.columnKey]:s}:e)),a&&a()}catch(e){console.error("Failed to update study plan:",e)}c(null),d("")}},j=e=>{"Enter"===e.key?x():"Escape"===e.key&&(c(null),d(""))},v=async()=>{try{let e={curriculum:(null==s?void 0:s.name)||"JEE",grade:11,subject:(null==s?void 0:s.name)||"Mathematics",chapter_name:"New Chapter",topic:"New Topic",target_date:null,learning_status:"In Queue",learning_stage:"Initiated",learning_proficiency:"Novice",progress_percentage:0,notes:""},t=await fetch("/api/study-plan",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(t.ok){let e=await t.json();l(s=>[...s,e]),a&&a()}}catch(e){console.error("Failed to add row:",e)}},b=async e=>{if(confirm("Are you sure you want to delete this row?"))try{await fetch("/api/study-plan/".concat(e),{method:"DELETE"}),l(s=>s.filter(s=>s.unique_id!==e)),a&&a()}catch(e){console.error("Failed to delete row:",e)}},y=async e=>{try{let t={curriculum:(null==s?void 0:s.name)||"JEE",grade:11,subject:(null==s?void 0:s.name)||"Mathematics",chapter_id:"CH-".concat(Date.now()),chapter_name:"New Chapter",topic:"New Topic",target_date:null,learning_status:"In Queue",learning_stage:"Initiated",learning_proficiency:"Novice",progress_percentage:0,notes:""},n=await fetch("/api/study-plan",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(n.ok){let s=await n.json();l(a=>{let t=[...a];return t.splice(e,0,s),t}),a&&a()}}catch(e){console.error("Failed to insert row:",e)}};return u?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"study-plan-container",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"study-plan-header",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"header-info",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h1",{children:s?"".concat(s.name," Study Plan"):"Complete Study Plan"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{children:"Master curriculum management with comprehensive tracking"})]})})}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"study-plan-container",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"excel-grid-container",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"excel-grid",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"grid-row header-row",children:p.map(e=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"grid-cell header-cell",style:{width:e.width,minWidth:e.width},children:e.label},e.key))}),i.map(e=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"grid-row data-row",children:p.map(s=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"grid-cell",style:{width:s.width,minWidth:s.width},children:["actions"===s.key&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"action-buttons",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{className:"action-btn add-btn",onClick:()=>y(i.indexOf(e)),title:"Insert row above",children:"+"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{className:"action-btn delete-btn",onClick:()=>b(e.unique_id),title:"Delete row",children:"\xd7"})]}),"unique_id"===s.key&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"readonly-cell",children:e.unique_id}),"curriculum"===s.key&&((null==r?void 0:r.uniqueId)===e.unique_id&&"curriculum"===r.columnKey?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input",{type:"text",value:o,onChange:e=>d(e.target.value),onBlur:x,onKeyDown:j,autoFocus:!0,className:"grid-input"}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"editable-cell",onClick:()=>g(e.unique_id,"curriculum",e.curriculum),children:e.curriculum})),"grade"===s.key&&((null==r?void 0:r.uniqueId)===e.unique_id&&"grade"===r.columnKey?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input",{type:"number",value:o,onChange:e=>d(e.target.value),onBlur:x,onKeyDown:j,autoFocus:!0,className:"grid-input",min:"9",max:"12"}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"editable-cell",onClick:()=>g(e.unique_id,"grade",e.grade.toString()),children:e.grade})),"subject"===s.key&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"readonly-cell",children:e.subject}),"chapter_id"===s.key&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"readonly-cell",children:e.chapter_id}),"chapter_name"===s.key&&((null==r?void 0:r.uniqueId)===e.unique_id&&"chapter_name"===r.columnKey?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input",{type:"text",value:o,onChange:e=>d(e.target.value),onBlur:x,onKeyDown:j,autoFocus:!0,className:"grid-input"}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"editable-cell",onClick:()=>g(e.unique_id,"chapter_name",e.chapter_name),children:e.chapter_name})),"topic_id"===s.key&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"readonly-cell",children:e.topic_id}),"topic"===s.key&&((null==r?void 0:r.uniqueId)===e.unique_id&&"topic"===r.columnKey?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input",{type:"text",value:o,onChange:e=>d(e.target.value),onBlur:x,onKeyDown:j,autoFocus:!0,className:"grid-input"}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"editable-cell",onClick:()=>g(e.unique_id,"topic",e.topic),children:e.topic})),"target_date"===s.key&&((null==r?void 0:r.uniqueId)===e.unique_id&&"target_date"===r.columnKey?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input",{type:"date",value:o,onChange:e=>d(e.target.value),onBlur:x,onKeyDown:j,autoFocus:!0,className:"grid-input"}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"editable-cell",onClick:()=>g(e.unique_id,"target_date",e.target_date?new Date(e.target_date).toISOString().split("T")[0]:""),children:e.target_date?new Date(e.target_date).toLocaleDateString():""})),"learning_status"===s.key&&((null==r?void 0:r.uniqueId)===e.unique_id&&"learning_status"===r.columnKey?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("select",{value:o,onChange:e=>d(e.target.value),onBlur:x,onKeyDown:j,autoFocus:!0,className:"grid-select",children:s.options.map(e=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option",{value:e,children:e},e))}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"status-badge",style:{backgroundColor:"".concat(t(e.learning_status),"20"),color:t(e.learning_status),borderColor:t(e.learning_status)},onClick:()=>g(e.unique_id,"learning_status",e.learning_status),children:e.learning_status})),"learning_stage"===s.key&&((null==r?void 0:r.uniqueId)===e.unique_id&&"learning_stage"===r.columnKey?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("select",{value:o,onChange:e=>d(e.target.value),onBlur:x,onKeyDown:j,autoFocus:!0,className:"grid-select",children:s.options.map(e=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option",{value:e,children:e},e))}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"editable-cell",onClick:()=>g(e.unique_id,"learning_stage",e.learning_stage),children:e.learning_stage})),"learning_proficiency"===s.key&&((null==r?void 0:r.uniqueId)===e.unique_id&&"learning_proficiency"===r.columnKey?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("select",{value:o,onChange:e=>d(e.target.value),onBlur:x,onKeyDown:j,autoFocus:!0,className:"grid-select",children:s.options.map(e=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option",{value:e,children:e},e))}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"proficiency-display",onClick:()=>g(e.unique_id,"learning_proficiency",e.learning_proficiency),children:getProficiencyIcons(e.learning_proficiency)})),"progress_percentage"===s.key&&((null==r?void 0:r.uniqueId)===e.unique_id&&"progress_percentage"===r.columnKey?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input",{type:"number",value:o,onChange:e=>d(e.target.value),onBlur:x,onKeyDown:j,autoFocus:!0,className:"grid-input",min:"0",max:"100"}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span",{className:"editable-cell",onClick:()=>g(e.unique_id,"progress_percentage",e.progress_percentage.toString()),children:[e.progress_percentage,"%"]})),"notes"===s.key&&((null==r?void 0:r.uniqueId)===e.unique_id&&"notes"===r.columnKey?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input",{type:"text",value:o,onChange:e=>d(e.target.value),onBlur:x,onKeyDown:j,autoFocus:!0,className:"grid-input"}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"editable-cell",onClick:()=>g(e.unique_id,"notes",e.notes||""),children:e.notes||""}))]},"".concat(e.unique_id,"-").concat(s.key)))},e.unique_id)),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"grid-row add-row",children:p.map(e=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"grid-cell",style:{width:e.width,minWidth:e.width},children:["actions"===e.key&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{className:"action-btn add-btn primary",onClick:v,title:"Add new row",children:"+"}),"actions"!==e.key&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"add-placeholder",children:"Click + to add"})]},"add-".concat(e.key)))})]})})})}function Home(){let[plans,setPlans]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]),[subjects,setSubjects]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]),[selectedSubject,setSelectedSubject]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null),[loading,setLoading]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!0),[editingChapter,setEditingChapter]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null),[editingTask,setEditingTask]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null),[addingTaskToBucket,setAddingTaskToBucket]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null),[comments,setComments]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]),[subtasks,setSubtasks]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]),[searchTerm,setSearchTerm]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(""),[filterPriority,setFilterPriority]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)("All"),[filterLabel,setFilterLabel]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)("All"),[selectedDueDate,setSelectedDueDate]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null),[backgroundTheme,setBackgroundTheme]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)("ocean"),[navbarBackground,setNavbarBackground]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)("default"),[viewMode,setViewMode]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)("kanban"),[studyPlans,setStudyPlans]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]),[weatherEffect,setWeatherEffect]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1),[showSettings,setShowSettings]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1),[backgroundMusic,setBackgroundMusic]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)("zen-mixed"),[musicVolume,setMusicVolume]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(.2),[musicPlaying,setMusicPlaying]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!0),[zenRhythmsEnabled,setZenRhythmsEnabled]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!0),[editingStudyPlan,setEditingStudyPlan]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null),[modalPosition,setModalPosition]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({top:0,left:0}),[subTopics,setSubTopics]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]),[newSubTopic,setNewSubTopic]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(""),[voiceRecordings,setVoiceRecordings]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]),[isRecording,setIsRecording]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1),[mediaRecorder,setMediaRecorder]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null),[sidebarCollapsed,setSidebarCollapsed]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!0),getStatusColor=e=>({"In Queue":"#6b7280","To Do":"#3b82f6","In Progress":"#f59e0b",Done:"#10b981",Closed:"#8b5cf6"})[e]||"#6b7280",getProficiencyColor=e=>({Novice:"#ef4444",Competent:"#f59e0b",Expert:"#3b82f6",Master:"#10b981"})[e]||"#6b7280",sensors=(0,_dnd_kit_core__WEBPACK_IMPORTED_MODULE_3__.FR)((0,_dnd_kit_core__WEBPACK_IMPORTED_MODULE_3__.MS)(_dnd_kit_core__WEBPACK_IMPORTED_MODULE_3__.AN),(0,_dnd_kit_core__WEBPACK_IMPORTED_MODULE_3__.MS)(_dnd_kit_core__WEBPACK_IMPORTED_MODULE_3__.uN,{coordinateGetter:_dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_4__.JR})),buckets=[{id:"backlog",name:"Backlog",status:"In Queue"},{id:"todo",name:"To Do",status:"To Do"},{id:"inprogress",name:"In Progress",status:"In Progress"},{id:"done",name:"Done",status:"Done"}];(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{fetchData()},[]),(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{document.body.className="bg-".concat(backgroundTheme)},[backgroundTheme]),(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{if(zenRhythmsEnabled&&musicPlaying){let e=setInterval(()=>{let e=["zen-mixed","zen-forest","zen-rain","zen-wind","zen-birds","zen-water"],s=(e.indexOf(backgroundMusic)+1)%e.length;setBackgroundMusic(e[s])},18e5);return()=>clearInterval(e)}},[zenRhythmsEnabled,musicPlaying,backgroundMusic]);let fetchData=async()=>{try{let studyPlansRes=await fetch("/api/study-plan"),studyPlansData=await studyPlansRes.json(),finalStudyPlansData=studyPlansData&&studyPlansData.length>0?studyPlansData:[{unique_id:"PHY-1.1",curriculum:"CBSE",grade:12,subject:"Physics",chapter_id:"PHY-1",chapter_name:"Physical World",topic_id:"PHY-1.1",topic:"Scope and excitement of physics",target_date:"2025-12-31T00:00:00.000Z",learning_status:"Done",learning_stage:"Practiced",learning_proficiency:"Expert",progress_percentage:100,notes:"Completed all practice problems and revision."},{unique_id:"PHY-1.2",curriculum:"CBSE",grade:12,subject:"Physics",chapter_id:"PHY-1",chapter_name:"Physical World",topic_id:"PHY-1.2",topic:"Physics technology and society",target_date:"2025-12-31T00:00:00.000Z",learning_status:"In Progress",learning_stage:"Studied",learning_proficiency:"Competent",progress_percentage:66,notes:"Working on applications in daily life."},{unique_id:"PHY-1.3",curriculum:"CBSE",grade:12,subject:"Physics",chapter_id:"PHY-1",chapter_name:"Physical World",topic_id:"PHY-1.3",topic:"Nature of physical laws",target_date:"2025-12-31T00:00:00.000Z",learning_status:"To Do",learning_stage:"Initiated",learning_proficiency:"Novice",progress_percentage:0,notes:"Need to start studying fundamental laws."},{unique_id:"CHM-1.1",curriculum:"CBSE",grade:12,subject:"Chemistry",chapter_id:"CHM-1",chapter_name:"The Solid State",topic_id:"CHM-1.1",topic:"General characteristics of solid state",target_date:"2025-12-31T00:00:00.000Z",learning_status:"To Do",learning_stage:"Initiated",learning_proficiency:"Novice",progress_percentage:0,notes:"Need to start studying crystal structures."},{unique_id:"CHM-1.2",curriculum:"CBSE",grade:12,subject:"Chemistry",chapter_id:"CHM-1",chapter_name:"The Solid State",topic_id:"CHM-1.2",topic:"Classification of solids",target_date:"2025-12-31T00:00:00.000Z",learning_status:"In Queue",learning_stage:"Initiated",learning_proficiency:"Novice",progress_percentage:0,notes:"Study crystalline and amorphous solids."},{unique_id:"MTH-1.1",curriculum:"CBSE",grade:12,subject:"Mathematics",chapter_id:"MTH-1",chapter_name:"Relations and Functions",topic_id:"MTH-1.1",topic:"Introduction to relations and functions",target_date:"2025-12-31T00:00:00.000Z",learning_status:"In Queue",learning_stage:"Initiated",learning_proficiency:"Novice",progress_percentage:0,notes:"Basic concepts of sets and relations."}],subjectsData=[...new Set(finalStudyPlansData.map(e=>e.subject))].map((e,s)=>({subject_id:s+1,name:e,Chapters:[]}));setPlans([]),setSubjects(subjectsData),setStudyPlans(finalStudyPlansData),subjectsData.length>0&&setSelectedSubject(subjectsData[0]),setLoading(!1)}catch(error){console.error("Failed to fetch data:",error);try{let demoDataResponse=await fetch("/ProdyJEE/study-plans-data.js"),demoDataText=await demoDataResponse.text(),demoStudyPlans=eval(demoDataText.replace("module.exports = ","")),demoSubjects=[{subject_id:1,name:"Physics",Chapters:[]},{subject_id:2,name:"Chemistry",Chapters:[]},{subject_id:3,name:"Mathematics",Chapters:[]}];setPlans([]),setSubjects(demoSubjects),setStudyPlans(demoStudyPlans),setSelectedSubject(demoSubjects[0])}catch(demoError){console.error("Failed to load demo data:",demoError);let fallbackStudyPlans=[{unique_id:"PHY-1.1",curriculum:"CBSE",grade:12,subject:"Physics",chapter_id:"PHY-1",chapter_name:"Physical World",topic_id:"PHY-1.1",topic:"Scope and excitement of physics",target_date:"2025-12-31T00:00:00.000Z",learning_status:"Done",learning_stage:"Practiced",learning_proficiency:"Expert",progress_percentage:100,notes:"Completed all practice problems and revision."}],fallbackSubjects=[{subject_id:1,name:"Physics",Chapters:[]}];setPlans([]),setSubjects(fallbackSubjects),setStudyPlans(fallbackStudyPlans),setSelectedSubject(fallbackSubjects[0])}setLoading(!1)}},deleteAllCards=async()=>{if(confirm("Are you sure you want to delete ALL study plan cards? This action cannot be undone."))try{let e=await fetch("/api/study-plan"),s=(await e.json()).map(e=>fetch("/api/study-plan/".concat(e.unique_id),{method:"DELETE"}));await Promise.all(s),setStudyPlans([]),alert("All study plan cards have been deleted successfully.")}catch(e){console.error("Failed to delete all cards:",e),alert("Failed to delete all cards. Please try again.")}},handleDragEnd=async e=>{let{active:s,over:a}=e;if(!a)return;let t=s.id,n=a.id;if(t.startsWith("studyplan-")){let e=t.replace("studyplan-",""),s=buckets.find(e=>e.id===n);if(s){let a=document.querySelector('[data-id="'.concat(t,'"]'));a&&(a.classList.add("dropping"),setTimeout(()=>{a.classList.remove("dropping")},600));try{await fetch("/api/study-plan/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({learning_status:s.status})}),fetchData()}catch(e){console.error("Failed to update study plan:",e)}}}},handleChapterDragEnd=async e=>{let{active:s,over:a}=e;if(!a)return;let t=s.id,n=a.id;if(t.startsWith("chapter-")){let e=t.replace("chapter-",""),s=buckets.find(e=>e.id===n);if(s){let a=document.querySelector('[data-id="'.concat(t,'"]'));a&&(a.classList.add("dropping"),setTimeout(()=>{a.classList.remove("dropping")},600));try{let a=groupStudyPlansByChapter(studyPlans.filter(e=>e.subject===selectedSubject.name)).find(s=>s.chapter_id===e);if(a){let e=a.studyPlans.map(e=>fetch("/api/study-plan/".concat(e.unique_id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({learning_status:s.status})}));await Promise.all(e),fetchData()}}catch(e){console.error("Failed to update chapter:",e)}}}},onEditChapter=async(e,s)=>{setEditingChapter(e)},onEditSubTopic=async e=>{let s=selectedSubject.Chapters.find(s=>s.SubTopics.some(s=>s.subtopic_id===e.subtopic_id));s&&setEditingChapter(s)},onEditStudyPlan=async(e,s)=>{setEditingStudyPlan(e);try{let s=await fetch("/api/subtopics?chapter_id=".concat(e.chapter_id)),a=await s.json(),t=Array.isArray(a)?a.map(e=>({id:e.subtopic_id,text:e.name,completed:"Completed"===e.status})):[];setSubTopics(t)}catch(e){console.error("Error fetching chapter subtopics:",e),setSubTopics([])}},startRecording=async()=>{try{let e=await navigator.mediaDevices.getUserMedia({audio:!0}),s=new MediaRecorder(e),a=[];s.ondataavailable=e=>{e.data.size>0&&a.push(e.data)},s.onstop=()=>{let s=new Blob(a,{type:"audio/wav"}),t=URL.createObjectURL(s),n={id:Date.now(),url:t,blob:s,timestamp:new Date().toLocaleString()};setVoiceRecordings([...voiceRecordings,n]),e.getTracks().forEach(e=>e.stop())},setMediaRecorder(s),s.start(),setIsRecording(!0)}catch(e){console.error("Error starting recording:",e),alert("Could not access microphone. Please check permissions.")}},stopRecording=()=>{mediaRecorder&&isRecording&&(mediaRecorder.stop(),setIsRecording(!1),setMediaRecorder(null))},playRecording=e=>{new Audio(e).play()},deleteRecording=e=>{setVoiceRecordings(voiceRecordings.filter(s=>s.id!==e))},onEditTask=async e=>{setEditingTask(e),setSelectedDueDate(e.due_date?new Date(e.due_date):null);let[s,a]=await Promise.all([fetch("/api/comments?task_id=".concat(e.task_id)),fetch("/api/subtasks?task_id=".concat(e.task_id))]),t=await s.json(),n=await a.json();setComments(t),setSubtasks(n)},onAddTask=e=>{setAddingTaskToBucket(e)};return loading?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{children:"Loading..."}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"planner",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("nav",{className:"top-navbar navbar-".concat(navbarBackground||"default"),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"navbar-content",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"navbar-brand",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"brand-logo",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"brand-main",children:"Prody"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"brand-jee",children:"JEE"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"brand-accent",children:"™"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"brand-subtitle",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{children:"Peepal Prodigy School"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span",{className:"version-tag",children:["v",_package_json__WEBPACK_IMPORTED_MODULE_2__.rE]})]})]}),selectedSubject&&"kanban"===viewMode&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"navbar-center",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("h3",{className:"navbar-title",children:["Kanban Board - ",selectedSubject.name," (",groupStudyPlansByChapter(studyPlans.filter(e=>e.subject===selectedSubject.name)).length," chapters)"]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"navbar-actions",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{className:"nav-action-btn",onClick:()=>setShowSettings(!0),title:"Settings",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(CogIcon,{})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{className:"nav-action-btn",onClick:()=>{},title:"Themes",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PaletteIcon,{})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("a",{href:"/login",className:"nav-action-btn user-profile",title:"User Profile",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(UserIcon,{})})]})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"horizontal-navbar",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"nav-content",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"breadcrumb-section",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"breadcrumb-path",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"breadcrumb-item",children:"Home"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"breadcrumb-separator",children:"/"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"breadcrumb-item active",children:"Study Plans"}),selectedSubject&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"breadcrumb-separator",children:"/"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"breadcrumb-item active",children:selectedSubject.name})]})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"filter-tabs-section",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"filter-group",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"filter-tabs",children:subjects.slice(0,4).map(e=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button",{className:"filter-tab ".concat((null==selectedSubject?void 0:selectedSubject.subject_id)===e.subject_id?"active":""),onClick:()=>setSelectedSubject(e),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(BookOpenIcon,{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{children:e.name})]},e.subject_id))})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"filter-group",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"view-toggle-tabs",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button",{className:"view-tab ".concat("kanban"===viewMode?"active":""),onClick:()=>setViewMode("kanban"),title:"Kanban View",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(BookOpenIcon,{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{children:"Kanban"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button",{className:"view-tab ".concat("study-plan"===viewMode?"active":""),onClick:()=>setViewMode("study-plan"),title:"Study Plan View",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(GridIcon,{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{children:"Study Plan"})]})]})})]})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"sidebar ".concat(sidebarCollapsed?"collapsed":"expanded"),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"sidebar-header",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{className:"sidebar-toggle",onClick:()=>setSidebarCollapsed(!sidebarCollapsed),title:sidebarCollapsed?"Expand Sidebar":"Collapse Sidebar",children:sidebarCollapsed?"☰":"✕"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"sidebar-content",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"sidebar-item",title:"Dashboard",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(HomeIcon,{}),!sidebarCollapsed&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{children:"Dashboard"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"sidebar-item",title:"Charts",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(BarChartIcon,{}),!sidebarCollapsed&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{children:"Charts"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"sidebar-item",title:"Schedule",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(CalendarIcon,{}),!sidebarCollapsed&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{children:"Schedule"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"sidebar-item",title:"Timer",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(TimerIcon,{}),!sidebarCollapsed&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{children:"Timer"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"sidebar-item",title:"Relax",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MeditationIcon,{}),!sidebarCollapsed&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{children:"Relax"})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"sidebar-footer",children:!sidebarCollapsed&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"sidebar-attribution",children:"by Sasha Nagarajan, 11th Grade, Peepal Prodigy School, Madukkarai, Coimbatore"})})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("main",{className:"board",children:[selectedSubject&&"kanban"===viewMode&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_dnd_kit_core__WEBPACK_IMPORTED_MODULE_3__.Mp,{sensors:sensors,collisionDetection:_dnd_kit_core__WEBPACK_IMPORTED_MODULE_3__.y$,onDragEnd:handleChapterDragEnd,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"kanban-board",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"buckets-container",children:buckets.map(e=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Bucket,{bucket:e,chapters:groupStudyPlansByChapter(studyPlans.filter(e=>e.subject===selectedSubject.name)),onEditChapter:onEditChapter,onUpdateProgress:fetchData,getStatusColor:getStatusColor,getProficiencyColor:getProficiencyColor},e.id))})})}),selectedSubject&&"study-plan"===viewMode&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(StudyPlanGrid,{subject:selectedSubject,onUpdate:fetchData,getStatusColor:getStatusColor,getProficiencyColor:getProficiencyColor})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:[editingTask&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"modal-overlay",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"task-modal",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"modal-header",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h2",{children:editingTask.title}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{className:"close-btn",onClick:()=>setEditingTask(null),children:"\xd7"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"modal-body",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"task-details",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("form",{onSubmit:async e=>{e.preventDefault();let s=new FormData(e.target);await fetch("/api/tasks/".concat(editingTask.task_id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:s.get("title"),description:s.get("description"),priority:s.get("priority"),progress:parseInt(s.get("progress")),due_date:selectedDueDate})}),setEditingTask(null),fetchPlans()},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"form-group",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label",{children:"Title"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input",{name:"title",defaultValue:editingTask.title,required:!0})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"form-group",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label",{children:"Description"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("textarea",{name:"description",defaultValue:editingTask.description,rows:"3"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"form-row",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"form-group",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label",{children:"Priority"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("select",{name:"priority",defaultValue:editingTask.priority,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option",{children:"Low"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option",{children:"Medium"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option",{children:"High"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option",{children:"Important"})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"form-group",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label",{children:"Progress (%)"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input",{name:"progress",type:"number",min:"0",max:"100",defaultValue:editingTask.progress})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"form-group",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label",{children:"Due Date"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_datepicker__WEBPACK_IMPORTED_MODULE_7__.Ay,{selected:selectedDueDate,onChange:setSelectedDueDate,dateFormat:"yyyy-MM-dd",placeholderText:"Select due date"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"form-actions",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{type:"submit",className:"save-btn",children:"Save Changes"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{type:"button",onClick:()=>setEditingTask(null),className:"cancel-btn",children:"Cancel"})]})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"task-sections",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"section",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4",{children:"Subtasks"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"subtasks-list",children:subtasks.map(e=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"subtask-item",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input",{type:"checkbox",checked:e.completed,onChange:async s=>{await fetch("/api/subtasks",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({subtask_id:e.subtask_id,completed:s.target.checked})});let a=await fetch("/api/subtasks?task_id=".concat(editingTask.task_id));setSubtasks(await a.json())}}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:e.completed?"completed":"",children:e.title})]},e.subtask_id))}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("form",{onSubmit:async e=>{e.preventDefault();let s=new FormData(e.target);await fetch("/api/subtasks",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({task_id:editingTask.task_id,title:s.get("subtask")})}),e.target.reset();let a=await fetch("/api/subtasks?task_id=".concat(editingTask.task_id));setSubtasks(await a.json())},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"add-item",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input",{name:"subtask",placeholder:"Add a subtask...",required:!0}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{type:"submit",children:"+"})]})})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"section",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4",{children:"Comments"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"comments-list",children:comments.map(e=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"comment-item",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{children:e.content}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("small",{children:new Date(e.created_at).toLocaleString()})]},e.comment_id))}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("form",{onSubmit:async e=>{e.preventDefault();let s=new FormData(e.target);await fetch("/api/comments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({task_id:editingTask.task_id,content:s.get("comment")})}),e.target.reset();let a=await fetch("/api/comments?task_id=".concat(editingTask.task_id));setComments(await a.json())},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"add-item",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("textarea",{name:"comment",placeholder:"Add a comment...",required:!0,rows:"2"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{type:"submit",children:"Comment"})]})})]})]})]})]})}),editingChapter&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"modal-overlay",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"chapter-modal glass-card",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"modal-header",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("h2",{children:["Chapter: ",editingChapter.chapter_name]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{className:"close-btn",onClick:()=>setEditingChapter(null),children:"\xd7"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"modal-body",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"topics-scrollable-container",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"topics-section",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3",{children:"Topics in this Chapter"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"topics-list",children:editingChapter.studyPlans.map(e=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"topic-item-detailed",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"topic-header",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"topic-info",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"topic-completion",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"progress-stages",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label",{className:"stage-option",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input",{type:"radio",name:"progress-".concat(e.unique_id),value:"Started",checked:"Started"===e.learning_status||"Studied"===e.learning_status||"Done"===e.learning_status,onChange:async s=>{let a="Started",t=33;try{await fetch("/api/study-plan",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({unique_id:e.unique_id,learning_status:a,progress_percentage:t})}),await fetchData();let s=groupStudyPlansByChapter(studyPlans.filter(e=>e.subject===(null==selectedSubject?void 0:selectedSubject.name))).find(e=>e.chapter_id===editingChapter.chapter_id);s&&setEditingChapter(s)}catch(e){console.error("Failed to update topic status:",e)}}}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"stage-label",children:"Started"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label",{className:"stage-option",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input",{type:"radio",name:"progress-".concat(e.unique_id),value:"Studied",checked:"Studied"===e.learning_status||"Done"===e.learning_status,onChange:async s=>{let a="Studied",t=66;try{await fetch("/api/study-plan",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({unique_id:e.unique_id,learning_status:a,progress_percentage:t})}),await fetchData();let s=groupStudyPlansByChapter(studyPlans.filter(e=>e.subject===(null==selectedSubject?void 0:selectedSubject.name))).find(e=>e.chapter_id===editingChapter.chapter_id);s&&setEditingChapter(s)}catch(e){console.error("Failed to update topic status:",e)}}}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"stage-label",children:"Studied"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label",{className:"stage-option",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input",{type:"radio",name:"progress-".concat(e.unique_id),value:"Practiced",checked:"Done"===e.learning_status,onChange:async s=>{let a="Done",t=100;try{await fetch("/api/study-plan",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({unique_id:e.unique_id,learning_status:a,progress_percentage:t})}),await fetchData();let s=groupStudyPlansByChapter(studyPlans.filter(e=>e.subject===(null==selectedSubject?void 0:selectedSubject.name))).find(e=>e.chapter_id===editingChapter.chapter_id);s&&setEditingChapter(s)}catch(e){console.error("Failed to update topic status:",e)}}}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"stage-label",children:"Practiced"})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4",{className:"topic-title ".concat("Done"===e.learning_status?"completed":""),children:e.topic})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"topic-meta",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span",{className:"topic-id",children:["ID: ",e.topic_id]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"status-badge",style:{backgroundColor:"".concat(getStatusColor(e.learning_status),"30"),color:getStatusColor(e.learning_status),border:"1px solid ".concat(getStatusColor(e.learning_status))},children:e.learning_status})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"topic-progress",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span",{className:"progress-value",children:[e.progress_percentage,"%"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"mini-progress-bar",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"mini-progress-fill",style:{width:"".concat(e.progress_percentage,"%"),backgroundColor:100===e.progress_percentage?"#10b981":e.progress_percentage>0?"#f59e0b":"#6b7280"}})})]})]})},e.unique_id))})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"modal-bottom-sections",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3",{children:"Notes"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("textarea",{placeholder:"Add notes for this chapter...",rows:"6",className:"notes-textarea",value:editingChapter.notes||"",onChange:e=>{setEditingChapter({...editingChapter,notes:e.target.value})}})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"voice-section",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3",{children:"Voice Recording"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"voice-controls",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{className:"voice-btn",title:"Start Recording",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("circle",{cx:"12",cy:"12",r:"4",fill:"currentColor"})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{className:"voice-btn",title:"Stop Recording",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("rect",{x:"6",y:"6",width:"12",height:"12",stroke:"currentColor",strokeWidth:"2"})})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{className:"voice-btn",title:"Play Recording",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("polygon",{points:"8,5 19,12 8,19",stroke:"currentColor",strokeWidth:"2",fill:"currentColor"})})})]})]})]})]})}),addingTaskToBucket&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"modal",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"modal-content",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3",{children:"Add New Task"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("form",{onSubmit:async e=>{e.preventDefault();let s=new FormData(e.target);await fetch("/api/tasks",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({bucket_id:addingTaskToBucket,title:s.get("title"),description:s.get("description"),priority:s.get("priority"),progress:0})}),setAddingTaskToBucket(null),fetchPlans()},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input",{name:"title",placeholder:"Task title",required:!0}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("textarea",{name:"description",placeholder:"Description"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("select",{name:"priority",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option",{children:"Low"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option",{children:"Medium"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option",{children:"High"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option",{children:"Important"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{type:"submit",children:"Add Task"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{type:"button",onClick:()=>setAddingTaskToBucket(null),children:"Cancel"})]})]})})]}),weatherEffect&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"weather-overlay",children:Array.from({length:50},(e,s)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"raindrop",style:{left:"".concat(100*Math.random(),"%"),animationDelay:"".concat(2*Math.random(),"s"),animationDuration:"".concat(1+Math.random(),"s")}},s))}),"none"!==backgroundMusic&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("audio",{ref:e=>{e&&(e.volume=musicVolume,musicPlaying?e.play().catch(s=>{console.log("Audio play failed:",s);let a=()=>{e.play().catch(()=>{}),document.removeEventListener("click",a)};document.addEventListener("click",a)}):e.pause())},loop:!0,autoPlay:!0,preload:"auto",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("source",{src:"zen-mixed"===backgroundMusic?"https://www.soundjay.com/misc/sounds/ambient-nature.wav":"zen-forest"===backgroundMusic?"https://www.soundjay.com/misc/sounds/forest-sounds.wav":"zen-rain"===backgroundMusic?"https://www.soundjay.com/misc/sounds/rain-03.wav":"zen-wind"===backgroundMusic?"https://www.soundjay.com/misc/sounds/wind.wav":"zen-birds"===backgroundMusic?"https://www.soundjay.com/misc/sounds/birds-01.wav":"zen-water"===backgroundMusic?"https://www.soundjay.com/misc/sounds/water-stream.wav":"meditation"===backgroundMusic?"https://www.soundjay.com/misc/sounds/bell-ringing-05.wav":"flute"===backgroundMusic?"https://www.soundjay.com/misc/sounds/flute.wav":"https://www.soundjay.com/misc/sounds/nature-sounds.wav",type:"audio/wav"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("source",{src:"zen-mixed"===backgroundMusic?"https://www.soundjay.com/misc/sounds/ambient-nature.mp3":"zen-forest"===backgroundMusic?"https://www.soundjay.com/misc/sounds/forest-sounds.mp3":"zen-rain"===backgroundMusic?"https://www.soundjay.com/misc/sounds/rain-03.mp3":"zen-wind"===backgroundMusic?"https://www.soundjay.com/misc/sounds/wind.mp3":"zen-birds"===backgroundMusic?"https://www.soundjay.com/misc/sounds/birds-01.mp3":"zen-water"===backgroundMusic?"https://www.soundjay.com/misc/sounds/water-stream.mp3":"meditation"===backgroundMusic?"https://www.soundjay.com/misc/sounds/bell-ringing-05.mp3":"flute"===backgroundMusic?"https://www.soundjay.com/misc/sounds/flute.mp3":"https://www.soundjay.com/misc/sounds/nature-sounds.mp3",type:"audio/mpeg"}),"Your browser does not support the audio element."]},backgroundMusic),editingStudyPlan&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"modal-overlay",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"study-plan-modal glass-card",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"modal-header",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"modal-title-section",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h2",{children:editingStudyPlan.topic}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"study-plan-details-popup",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"detail-item",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"detail-label",children:"Chapter:"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"detail-value",children:editingStudyPlan.chapter_name})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"detail-item",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"detail-label",children:"Subject:"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"detail-value",children:editingStudyPlan.subject})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"detail-item",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"detail-label",children:"Grade:"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"detail-value",children:editingStudyPlan.grade})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"detail-item",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"detail-label",children:"Curriculum:"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"detail-value",children:editingStudyPlan.curriculum})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"modal-status-badge",style:{backgroundColor:"".concat(getStatusColor(editingStudyPlan.learning_status),"20"),color:getStatusColor(editingStudyPlan.learning_status),borderColor:getStatusColor(editingStudyPlan.learning_status)},children:editingStudyPlan.learning_status})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{className:"close-btn",onClick:()=>setEditingStudyPlan(null),children:"\xd7"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"modal-body",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("form",{onSubmit:async e=>{e.preventDefault();let s=new FormData(e.target);for(let e of subTopics)await fetch("/api/subtopics/".concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:e.completed?"Completed":"Not Started"})});let a=subTopics.filter(e=>e.completed).length,t=subTopics.length,n=t>0?Math.round(a/t*100):0;await fetch("/api/study-plan/".concat(editingStudyPlan.unique_id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({progress_percentage:n,notes:s.get("notes")})}),setEditingStudyPlan(null),setSubTopics([]),setNewSubTopic(""),setVoiceRecordings([]),fetchStudyPlans()},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"form-group primary-section",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label",{className:"form-label-icon",children:"� Chapter Sub-Topics"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"progress-tracker",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"progress-header",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"progress-title",children:"Overall Progress"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span",{className:"progress-percentage",children:[subTopics.length>0?Math.round(subTopics.filter(e=>e.completed).length/subTopics.length*100):0,"%"]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"progress-bar-container",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"progress-bar-fill",style:{width:"".concat(subTopics.length>0?Math.round(subTopics.filter(e=>e.completed).length/subTopics.length*100):0,"%")}})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"progress-stats",children:[subTopics.filter(e=>e.completed).length," of ",subTopics.length," topics completed"]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"subtopics-modern",children:[subTopics.map((e,s)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"subtopic-item ".concat(e.completed?"completed":"pending"),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"subtopic-content",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"subtopic-icon",children:e.completed?"✓":"○"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"subtopic-text",children:e.text})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"subtopic-actions",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{type:"button",className:"status-btn ".concat(e.completed?"completed":"pending"),onClick:()=>{let e=[...subTopics];e[s].completed=!e[s].completed,setSubTopics(e)},children:e.completed?"Mark Incomplete":"Mark Complete"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{type:"button",className:"remove-subtopic-btn",onClick:()=>{setSubTopics(subTopics.filter((e,a)=>a!==s))},children:"\xd7"})]})]},e.id)),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"add-subtopic-modern",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input",{type:"text",value:newSubTopic,onChange:e=>setNewSubTopic(e.target.value),placeholder:"Add new learning topic...",onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),newSubTopic.trim()&&(setSubTopics([...subTopics,{id:Date.now(),text:newSubTopic.trim(),completed:!1}]),setNewSubTopic("")))}}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{type:"button",className:"add-subtopic-btn-modern",onClick:()=>{newSubTopic.trim()&&(setSubTopics([...subTopics,{id:Date.now(),text:newSubTopic.trim(),completed:!1}]),setNewSubTopic(""))},children:"+ Add Topic"})]})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"form-group",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label",{className:"form-label-icon",children:"\uD83D\uDCDD Notes"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("textarea",{name:"notes",defaultValue:editingStudyPlan.notes,rows:"4",placeholder:"Add your study notes, insights, or reminders here..."})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"form-group",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label",{className:"form-label-icon",children:"�️ Voice Notes"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"voice-logging",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"voice-controls",children:isRecording?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{type:"button",className:"record-btn stop",onClick:stopRecording,children:"⏹️ Stop Recording"}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{type:"button",className:"record-btn recording",onClick:startRecording,children:"�️ Start Recording"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"voice-recordings",children:0===voiceRecordings.length?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{children:"No voice recordings yet"}):voiceRecordings.map(e=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"voice-recording-item",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span",{children:["Recording ",new Date(e.timestamp).toLocaleTimeString()]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"recording-controls",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{type:"button",onClick:()=>playRecording(e.url),children:"▶️"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{type:"button",onClick:()=>deleteRecording(e.id),children:"\uD83D\uDDD1️"})]})]},e.id))})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"form-group",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label",{className:"form-label-icon",children:"\uD83D\uDCCA Overall Status & Date"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"status-date-section",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"status-info",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"status-label",children:"Current Status:"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"status-value",children:editingStudyPlan.learning_status})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"date-info",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"date-label",children:"Target Date:"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"date-value",children:editingStudyPlan.target_date?new Date(editingStudyPlan.target_date).toLocaleDateString():"Not set"})]})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"form-actions",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{type:"submit",className:"save-btn",children:"\uD83D\uDCBE Save Progress"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{type:"button",onClick:()=>{setEditingStudyPlan(null),setSubTopics([]),setNewSubTopic(""),setVoiceRecordings([])},className:"cancel-btn",children:"❌ Close"})]})]})})]})}),showSettings&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"modal-overlay",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"settings-modal glass-card",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"modal-header",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h2",{children:"Settings"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{className:"close-btn",onClick:()=>setShowSettings(!1),children:"\xd7"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"modal-body",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"settings-section",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3",{children:"Background Theme"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"setting-item",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PaletteIcon,{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("select",{value:backgroundTheme,onChange:e=>setBackgroundTheme(e.target.value),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option",{value:"forest-mountain",children:"Forest Mountain"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option",{value:"green-forest",children:"Green Forest"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option",{value:"bamboo",children:"Bamboo Grove"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option",{value:"jungle",children:"Tropical Jungle"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option",{value:"meadow",children:"Spring Meadow"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option",{value:"gradient",children:"Ocean Gradient"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option",{value:"nature",children:"Wild Nature"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option",{value:"flowers",children:"Flower Garden"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option",{value:"animals",children:"Safari Animals"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option",{value:"mountains",children:"Snow Mountains"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option",{value:"ocean",children:"Deep Ocean"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option",{value:"desert",children:"Golden Desert"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option",{value:"sunset",children:"Tropical Sunset"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option",{value:"aurora",children:"Northern Aurora"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option",{value:"galaxy",children:"Starry Galaxy"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option",{value:"sakura",children:"Cherry Blossom"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option",{value:"autumn",children:"Autumn Leaves"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option",{value:"winter",children:"Winter Wonderland"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option",{value:"rainbow",children:"Rainbow Sky"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option",{value:"zen-garden",children:"Zen Garden"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option",{value:"crystal",children:"Crystal Cave"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option",{value:"lava",children:"Volcanic Lava"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option",{value:"ice",children:"Arctic Ice"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option",{value:"cosmic",children:"Cosmic Nebula"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option",{value:"ethereal",children:"Ethereal Mist"})]})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"settings-section",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3",{children:"Navigation Bar Background"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"setting-item",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PaletteIcon,{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("select",{value:navbarBackground||"default",onChange:e=>setNavbarBackground(e.target.value),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option",{value:"default",children:"Default (Semi-transparent)"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option",{value:"glass",children:"Glass Effect"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option",{value:"solid",children:"Solid White"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option",{value:"gradient",children:"Gradient"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option",{value:"blur",children:"Heavy Blur"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option",{value:"minimal",children:"Minimal"})]})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"settings-section",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3",{children:"Weather Effects"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"setting-item",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(CloudIcon,{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button",{className:"nav-btn ".concat(weatherEffect?"active":""),onClick:()=>setWeatherEffect(!weatherEffect),children:[weatherEffect?"Disable":"Enable"," Weather Effects"]})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"settings-section",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3",{children:"Background Music"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"setting-item",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MusicIcon,{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("select",{value:backgroundMusic,onChange:e=>setBackgroundMusic(e.target.value),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option",{value:"zen-mixed",children:"Zen Mixed (Waves + Campfire + Rain + Crickets)"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option",{value:"zen-forest",children:"Zen Forest"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option",{value:"zen-rain",children:"Zen Rain"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option",{value:"zen-wind",children:"Zen Wind"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option",{value:"zen-birds",children:"Zen Birds"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option",{value:"zen-water",children:"Zen Water"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option",{value:"meditation",children:"Meditation"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option",{value:"flute",children:"Flute"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option",{value:"nature",children:"Nature"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option",{value:"none",children:"None"})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"setting-item",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button",{className:"nav-btn ".concat(musicPlaying?"active":""),onClick:()=>setMusicPlaying(!musicPlaying),children:[musicPlaying?"Pause":"Play"," Music"]})})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"settings-section",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3",{children:"Filters"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"setting-item",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input",{type:"text",placeholder:"Search tasks...",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),className:"search-input"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"setting-item",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("select",{value:filterPriority,onChange:e=>setFilterPriority(e.target.value),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option",{value:"All",children:"All Priorities"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option",{value:"Low",children:"Low"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option",{value:"Medium",children:"Medium"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option",{value:"High",children:"High"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option",{value:"Important",children:"Important"})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"setting-item",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("select",{value:filterLabel,onChange:e=>setFilterLabel(e.target.value),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option",{value:"All",children:"All Labels"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option",{value:"Math",children:"Math"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option",{value:"Physics",children:"Physics"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option",{value:"Chemistry",children:"Chemistry"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option",{value:"High Priority",children:"High Priority"})]})})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"settings-section",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3",{children:"Data Management"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"setting-item",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{className:"nav-btn delete-all-btn",onClick:deleteAllCards,style:{backgroundColor:"#ef4444",color:"white",border:"none"},title:"Delete all study plan cards from the Kanban board",children:"\uD83D\uDDD1️ Delete All Cards"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{style:{fontSize:"12px",color:"#666",marginLeft:"10px"},children:"Permanently delete all study plan cards"})]})]})]})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"voice-assistant-container",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button",{className:"voice-assistant-btn",onClick:()=>{},title:"Voice Assistant",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"voice-assistant-icon",children:"\uD83C\uDF99️"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"voice-assistant-pulse"})]})})]})}},9891:e=>{"use strict";e.exports={rE:"1.0.3"}}},e=>{var s=s=>e(e.s=s);e.O(0,[701,121,357,636,593,792],()=>s(2936)),_N_E=e.O()}]);